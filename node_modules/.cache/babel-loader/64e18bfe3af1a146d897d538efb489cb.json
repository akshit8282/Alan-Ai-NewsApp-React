{"ast":null,"code":";\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n})(this, function () {\n  (function (ns) {\n    \"use strict\";\n\n    var audioElement = document.createElement(\"audio\");\n    audioElement.setAttribute(\"autoplay\", \"true\");\n    audioElement.addEventListener(\"ended\", function () {\n      playState = PLAY_IDLE;\n\n      _handleQueue();\n    });\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      document.body.appendChild(audioElement);\n    });\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.mediaDevices && navigator.mediaDevices.getUserMedia;\n\n    if (!navigator.getUserMedia) {\n      console.error(\"getUserMedia is not supported\");\n    }\n\n    var PLAY_IDLE = 'idle';\n    var PLAY_ACTIVE = 'active';\n    var PLAY_STOPPED = 'stopped';\n    var handlers = {};\n    var micStream = null;\n    var audioRecorder = null;\n    var audioSource = null;\n    var frameSize = 4096;\n    var audioCtx = null;\n    var totalSamples = 0;\n    var sampleRate = 0;\n    var firstSampleTs = 0;\n    var frameCount = 0;\n    var playState = PLAY_STOPPED;\n    var audioQueue = [];\n\n    if (window.AudioContext) {\n      audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n      audioCtx = new window.webkitAudioContext();\n    }\n\n    function _handleQueue() {\n      if (!audioQueue.length || playState !== PLAY_IDLE) {\n        return;\n      }\n\n      while (playState === PLAY_IDLE && audioQueue.length) {\n        var o = audioQueue.shift();\n\n        if (o.event) {\n          fireEvent('command', o.event);\n        } else if (o.text) {\n          fireEvent('text', o.text);\n        } else if (o.audio) {\n          playState = PLAY_ACTIVE;\n          fireEvent('playStart');\n          audioElement.setAttribute(\"src\", o.audio);\n          audioElement.removeEventListener(\"ended\", onPlayStop, false);\n          audioElement.addEventListener(\"ended\", onPlayStop, false);\n        } else {\n          console.error('invalid queue item');\n        }\n      }\n    }\n\n    function onPlayStop() {\n      fireEvent('playStop');\n    }\n\n    function fireEvent(event, o1, o2) {\n      var h = handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](o1, o2);\n        }\n      }\n    }\n\n    function onGetUserMedia(mic) {\n      console.log('got microphone');\n      fireEvent('micStart', mic);\n      micStream = mic;\n\n      if (audioCtx.state === 'suspended') {\n        audioCtx.resume();\n      }\n\n      audioSource = audioCtx.createMediaStreamSource(micStream);\n      audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n      audioSource.connect(audioRecorder);\n\n      audioRecorder.onaudioprocess = function (e) {\n        if (micStream === mic) {\n          recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n        }\n      };\n\n      audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n      console.error('failed to get microphone', err);\n      fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n      if (playState === PLAY_ACTIVE) {\n        return;\n      }\n\n      if (sampleRate !== sr) {\n        sampleRate = sr;\n        firstSampleTs = Date.now();\n        totalSamples = 0;\n        frameCount = 0;\n      }\n\n      totalSamples += float32array.length;\n\n      if (++frameCount >= 300) {\n        frameCount = 0;\n        var audioTime = 1000 * totalSamples / sampleRate;\n        var clockTime = Date.now() - firstSampleTs;\n        console.log(\"audioTime: \" + audioTime + \", clockTime: \" + clockTime + \", ratio a/c: \" + audioTime / clockTime);\n      }\n\n      fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function () {\n      return playState === PLAY_ACTIVE;\n    };\n\n    ns.playText = function (text) {\n      playState = PLAY_IDLE;\n      audioQueue.push({\n        text: text\n      });\n\n      _handleQueue();\n    };\n\n    ns.playCommand = function (command) {\n      audioQueue.push({\n        event: command\n      });\n\n      _handleQueue();\n    };\n\n    ns.playEvent = function (event) {\n      audioQueue.push({\n        event: event\n      });\n\n      _handleQueue();\n    };\n\n    ns.playAudio = function (audio) {\n      audioQueue.push({\n        audio: audio\n      });\n\n      _handleQueue();\n    };\n\n    ns.on = function (event, handler) {\n      var h = handlers[event];\n\n      if (h == null) {\n        handlers[event] = [handler];\n      } else {\n        h.push(handler);\n      }\n    };\n\n    ns.off = function (event, handler) {\n      var h = handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ns.sampleRate = function () {\n      return sampleRate;\n    };\n\n    ns.start = function (onStarted) {\n      if (!micStream) {\n        if (navigator.mediaDevices) {\n          navigator.mediaDevices.getUserMedia({\n            audio: true\n          }).then(onGetUserMedia, onGetUserMediaError);\n        } else {\n          navigator.getUserMedia({\n            audio: true\n          }, onGetUserMedia, onGetUserMediaError);\n        }\n      }\n\n      playState = PLAY_IDLE;\n\n      if (onStarted) {\n        onStarted();\n        onStarted = null;\n      }\n    };\n\n    ns.stop = function () {\n      sampleRate = -1;\n      playState = PLAY_STOPPED;\n\n      if (micStream) {\n        for (var i = 0; i < micStream.getTracks().length; i++) {\n          var track = micStream.getAudioTracks()[0];\n\n          if (track) {\n            track.stop();\n          }\n        }\n\n        micStream = null;\n        fireEvent('micStop');\n      }\n\n      if (audioSource) {\n        audioSource.disconnect();\n        audioSource = null;\n      }\n\n      if (audioRecorder) {\n        audioRecorder.disconnect();\n        audioRecorder = null;\n      }\n\n      if (audioElement) {\n        audioElement.pause();\n        audioElement.currentTime = 0;\n        audioElement.src = \"\";\n      }\n\n      audioQueue = [];\n    };\n  })(typeof window !== 'undefined' ? function () {\n    window.alanAudio = {};\n    return window.alanAudio;\n  }() : exports);\n\n  (function (ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n    var config = {\n      // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n      baseURL: \"wss://\" + (host.indexOf('$') === 0 || host === '' ? window.location.host : host),\n      codec: 'opus',\n      version: '1.2.0',\n      platform: 'web'\n    };\n\n    function ConnectionWrapper() {\n      var _this = this;\n\n      this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('Alan: connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('Alan: connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('Alan: connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('Alan: connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var uint8 = new Uint8Array(f.audioData);            var frame = '';            var batch = 62000;            for (var offset = 0; offset < uint8.byteLength; offset += batch) {                var b  = uint8.subarray(offset, Math.min(uint8.byteLength, offset + batch));                frame += String.fromCharCode.apply(null, b);            }            postMessage(['alanAudio', 'playFrame', frame]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'text') {                    postMessage(['alanAudio', 'playText', msg.p])                } else if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('Alan: connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('Alan: connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('Alan: reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('Alan: invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('Alan: authorized');    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('Alan: closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'mp3;base64', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]), {\n        type: 'text/javascript'\n      }));\n\n      this._worker.onmessage = function (e) {\n        if (e.data[0] === 'fireEvent') {\n          _this._fire(e.data[1], e.data[2]);\n\n          return;\n        }\n\n        if (e.data[0] === 'alanAudio') {\n          if (e.data[1] === 'playText') {\n            alanAudio.playText(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'playAudio' || e.data[1] === 'playFrame') {\n            alanAudio.playAudio(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'playEvent' || e.data[1] === 'playCommand') {\n            alanAudio.playEvent(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'stop') {\n            alanAudio.stop();\n            return;\n          }\n        }\n\n        if (e.data[0] === \"callback\") {\n          _this._callback[e.data[1]](e.data[2], e.data[3]);\n\n          delete _this._callback[e.data[1]];\n          return;\n        }\n\n        if (e.data[0] === \"setDialogId\") {\n          _this._dialogId = e.data[1];\n          return;\n        }\n\n        console.error(\"invalid event\", e.data);\n      };\n\n      this._worker.onerror = function (e) {\n        console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" + e.message);\n      };\n\n      this._handlers = {};\n      this._cleanups = [];\n      this._callback = {};\n      this._callIds = 1;\n      this._config = {};\n    }\n\n    ConnectionWrapper.prototype.on = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (!h) {\n        h = [];\n        this._handlers[event] = h;\n      }\n\n      h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function () {\n      return {\n        server: config.baseURL,\n        projectId: this._config.projectId,\n        dialogId: this._dialogId\n      };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function (state) {\n      this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function (method, param, callback) {\n      var cid = null;\n\n      if (callback) {\n        cid = this._callIds++;\n        this._callback[cid] = callback;\n      }\n\n      this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function () {\n      console.log('closing connection to: ' + this._url);\n\n      this._cleanups.forEach(function (h) {\n        h();\n      });\n\n      this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function (event, object) {\n      var h = this._handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](object);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function (f) {\n      this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n      var auth = {};\n\n      for (var k in values) {\n        auth[k] = values[k];\n      }\n\n      if (!ext || ext && ext.platform == null) {\n        auth.platform = config.platform;\n      } else {\n        auth.platform = config.platform + \":\" + ext.platform;\n      }\n\n      if (!ext || ext && ext.platformVersion == null) {\n        auth.platformVersion = config.version;\n      } else {\n        auth.platformVersion = config.version + \":\" + ext.platformVersion;\n      }\n\n      if (ext && ext.appName) {\n        auth.appName = ext.appName;\n      }\n\n      return auth;\n    }\n\n    function connectProject(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      function signupEvent(name, handler) {\n        alanAudio.on(name, handler);\n\n        connect._addCleanup(function () {\n          alanAudio.off(name, handler);\n        });\n      }\n\n      function passEventToWorker(name) {\n        function handler(a1, a2) {\n          if (name === 'frame' && alanAudio.isPlaying()) {\n            return;\n          }\n\n          connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n        }\n\n        signupEvent(name, handler);\n      }\n\n      function passEventToClient(name) {\n        function handler(e1) {\n          connect._fire(name, e1);\n        }\n\n        signupEvent(name, handler);\n      }\n\n      passEventToWorker('frame');\n      passEventToWorker('micStop');\n      passEventToWorker('playStart');\n      passEventToClient('text');\n      passEventToClient('command');\n      return connect;\n    }\n\n    function connectProjectTest(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      function signupEvent(name, handler) {\n        alanAudio.on(name, handler);\n\n        connect._addCleanup(function () {\n          alanAudio.off(name, handler);\n        });\n      }\n\n      function passEventToWorker(name) {\n        function handler(a1, a2) {\n          if (name === 'frame' && alanAudio.isPlaying()) {\n            return;\n          }\n\n          connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n        }\n\n        signupEvent(name, handler);\n      }\n\n      function passEventToClient(name) {\n        function handler(e1) {\n          connect._fire(name, e1);\n        }\n\n        signupEvent(name, handler);\n      }\n\n      passEventToWorker('frame');\n      passEventToWorker('micStop');\n      passEventToWorker('playStart');\n      passEventToClient('text');\n      passEventToClient('command');\n      return connect;\n    }\n\n    function connectTutor(auth, host) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_tutor\";\n\n      connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n\n      return connect;\n    }\n\n    ns.alan = {\n      projectTest: connectProjectTest,\n      project: connectProject,\n      tutor: connectTutor\n    };\n  })(window);\n\n  (function (ns) {\n    \"use strict\";\n\n    var alanButtonVersion = '1.8.9';\n\n    if (window.alanBtn) {\n      console.warn('Alan: the Alan Button source code has already added (v.' + alanButtonVersion + ')');\n    }\n\n    function alanBtn(options) {\n      options = options || {};\n      var btnDisabled = false;\n      var hideS2TPanel = false;\n      var pinned = false;\n      var absolutePosition = false;\n      console.log('Alan: v.' + alanButtonVersion);\n      var btnInstance = {\n        // Common public API\n        version: alanButtonVersion,\n        setVisualState: function setVisualState(visualState) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.setVisual(visualState);\n          }\n        },\n        callProjectApi: function callProjectApi(funcName, data, callback) {\n          var funcNamePrefix = 'script::';\n\n          if (btnDisabled) {\n            return;\n          }\n\n          if (!funcName) {\n            throw new Error('Function name for callProjectApi must be provided');\n          }\n\n          if (window.tutorProject) {\n            if (funcName.indexOf(funcNamePrefix) === 0) {\n              window.tutorProject.call(funcName, data, callback);\n            } else {\n              window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n            }\n          }\n        },\n        playText: function playText(text) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call('play', {\n              text: text\n            });\n          }\n        },\n        playCommand: function playCommand(command) {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.playCommand({\n            data: command\n          });\n        },\n        activate: function activate() {\n          return activateAlanButton();\n        },\n        deactivate: function deactivate() {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.stop();\n        },\n        isActive: function isActive() {\n          return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function callClientApi(method, data, callback) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call(method, data, callback);\n          }\n        },\n        // deprecated\n        setAuthData: function setAuthData(data) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.close();\n            window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n          }\n        },\n        // Other methods\n        setOptions: function setOptions(options) {\n          onOptionsReceived(options);\n        },\n        setPreviewState: function setPreviewState(state) {\n          switchState(state);\n        },\n        remove: function remove() {\n          alanAudio.stop();\n          window.tutorProject.close();\n          rootEl.remove();\n        },\n        stop: function stop() {\n          alanAudio.stop();\n        },\n        updateButtonState: function updateButtonState(state) {\n          onConnectStatusChange(state);\n        }\n      }; //Host\n\n      var host = 'studio.alan.app';\n      var baseUrl = 'https://' + (host.indexOf('$') === 0 || host === '' ? window.location.host : host);\n\n      if (options.host) {\n        baseUrl = 'https://' + options.host;\n      } // Btn modes\n\n\n      var mode;\n\n      if (options.mode === 'tutor') {\n        mode = 'tutor';\n        pinned = true;\n      } else if (options.mode === 'demo') {\n        mode = 'demo';\n      } else {\n        mode = 'component';\n      }\n\n      if (options.position === 'absolute' || options.pinned) {\n        pinned = true;\n      }\n\n      if (options.position === 'absolute') {\n        absolutePosition = true;\n      } // Btn states\n\n\n      var DEFAULT = 'default';\n      var LISTENING = 'listening';\n      var SPEAKING = 'speaking';\n      var INTERMEDIATE = 'intermediate';\n      var UNDERSTOOD = 'understood';\n      var DISCONNECTED = 'disconnected';\n      var OFFLINE = 'offline';\n      var LOW_VOLUME = 'lowVolume';\n      var PERMISSION_DENIED = 'permissionDenied';\n      var NO_VOICE_SUPPORT = 'noVoiceSupport';\n      var NOT_SECURE_ORIGIN = 'notSecureOrigin'; // Error messages\n\n      var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n      var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. If you think your browser supports voice input, please send the Debug info below to support@alan.app. ' + getDebugInfo();\n      var NOT_SECURE_ORIGIN_MSG = 'Audio is allowed only on the secure connection: make sure that your connection protocol is under https, file or http with localhost. Now you are running with \"' + window.location.protocol + '\" protocol and \"' + window.location.hostname + '\" hostname';\n      var LOW_VOLUME_MSG = 'Low volume level';\n      var OFFLINE_MSG = 'You\\'re offline';\n      var currentErrMsg = null;\n      var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n      var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n      var PREVIEW_MODE_CODE = 'preview-mode';\n      var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n      var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided'; // Set default state for btn\n\n      var state = DISCONNECTED;\n      var previousState = null;\n      var isAlanSpeaking = false;\n      var isAlanActive = false;\n      var customBtnLogoUrl; // Set btn position flags\n\n      var isLeftAligned = false;\n      var isRightAligned = true;\n      var isTopAligned = false;\n      var isBottomAligned = false;\n      var recognisedTextVisible = false;\n      var turnOffTimeout = 30000;\n      var turnOffVoiceFn;\n\n      function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n          if (isAlanSpeaking) {\n            // console.info('BTN: CONTINUE alanAudio', new Date());\n            turnOffVoiceFn();\n          } else {\n            // console.info('BTN: STOP alanAudio', new Date());\n            alanAudio.stop();\n          }\n        }, turnOffTimeout);\n      }\n\n      setTurnOffVoiceTimeout();\n      var switchToLowVolumeStateTimer = null; // Css animations\n\n      var pulsatingAnimation = '';\n      var pulsatingMicAnimation = '';\n      var pulsatingTriangleMicAnimation = '';\n\n      if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n      }\n\n      var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n      var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite'; // Set alanAudio\n\n      var alanAudio = window.alanAudio; // Define base blocks and layers\n\n      var rootEl = options.rootEl || document.createElement('div');\n      var body = document.getElementsByTagName('body')[0];\n      var btn = document.createElement('div');\n      var defaultStateBtnIconImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgB7dvvUcIwGMfxByfADdjAEdQN3EA2YATcAJ2AEXADdALcgG4AGzwm13DQkNKWQBvK93OXF4W0Z36mf5IUEQAAAAAAAAAAgPOo6ocpS91bmfIuOM2ENHJhlVnbOoIwF1CVleCYCWas9U0kEQ+SjibXuDdJxEASYbtVg+rbwWDwKAm41QDFBJjE357SKXyTCDASAUYiwEgEGIkAIxFgJAKMRICRWgvQTRZs3IzLxef2rn38zmlxqmoT+L6Rpse/ltbGk36j/bFsKJRTqvZva6zc2TXQtHfofbSV+rYVx2pNmwFm3vbI2/6R+r4rjvUnLWkzQL9Rz972l9T3WXGsTPrGTsN794FloM5Uq00D+/kLUb28Cw8DYbwE6k1LgrOPKJNA/dBaykj6SItrvdZaAzcAzZc3bTBzVyYl9YZ6vJK3kL6yPS7QW+ZyJhvW3fS+HdPAWaDRiyYNdz1vecl/xs0oOe12p3Plxd+d2mX7t/482MnKlutt9i48CnydSf5M+Cv7xxFb78mUsSnDkn1ezeAjk3uh+Y0i1JOaWuu9vi/jTueZns/u29kwLhma98Z5g+CWpjwLirT4/Oezn01S63HJvNrhs4kdbqfyKoePKf1IBBiJACMRYCQCjESAkVIO8HDhKBM0o/tZFzsTzY9sAAAAAAAAAABAjH+9EqX09fBHaQAAAABJRU5ErkJggg==';\n      var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n      var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n      var micIcon = document.createElement('div');\n      var defaultStateBtnIcon = document.createElement('img');\n      var logoState1 = document.createElement('img');\n      var logoState2 = document.createElement('img');\n      var logoState3 = document.createElement('img');\n      var logoState4 = document.createElement('img');\n      var logoState5 = document.createElement('img');\n      var logoState6 = document.createElement('img');\n      var logoState7 = document.createElement('img');\n      var logoState8 = document.createElement('img');\n      var logoState9 = document.createElement('img');\n      var logoState10 = document.createElement('img');\n      var micTriangleIcon = document.createElement('div');\n      var micCircleIcon = document.createElement('div');\n      var disconnectedMicLoaderIcon = document.createElement('img');\n      var lowVolumeMicIcon = document.createElement('img');\n      var noVoiceSupportMicIcon = document.createElement('img');\n      var offlineIcon = document.createElement('img');\n      var recognisedTextHolder = document.createElement('div');\n      var recognisedTextContent = document.createElement('div');\n      var soundOnAudioDoesNotExist = false;\n      var soundOffAudioDoesNotExist = false;\n      var soundNextAudioDoesNotExist = false;\n      var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a?v=' + alanButtonVersion);\n\n      soundOnAudio.onerror = function () {\n        soundOnAudioDoesNotExist = true;\n      };\n\n      var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a?v=' + alanButtonVersion);\n\n      soundOffAudio.onerror = function () {\n        soundOffAudioDoesNotExist = true;\n      };\n\n      var soundNextAudio = new Audio(baseUrl + '/resources/sounds/soundNext.m4a?v=' + alanButtonVersion);\n\n      soundNextAudio.onerror = function () {\n        soundNextAudioDoesNotExist = true;\n      }; // Specify layers for different statets to make smooth animation\n\n\n      var btnBgDefault = document.createElement('div');\n      var btnBgListening = document.createElement('div');\n      var btnBgSpeaking = document.createElement('div');\n      var btnBgIntermediate = document.createElement('div');\n      var btnBgUnderstood = document.createElement('div'); // Specify layers with ovals\n\n      var btnOval1 = document.createElement('div');\n      var btnOval2 = document.createElement('div'); // Some variables for setting up right properties for Alan Btn\n\n      var btnSize;\n      var sideBtnPos;\n      var bottomBtnPos;\n      var topBtnPos;\n      var btnZIndex;\n      var btnIconsZIndex;\n      var btnTextPanelsZIndex;\n      var btnBgLayerZIndex; // Define base properties for disable/enable button functionality\n\n      var isLocalStorageAvailable = false;\n\n      try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n      } catch (e) {\n        isLocalStorageAvailable = false;\n      } //#region Listen online/offline events to manage connected/disconnected states\n\n\n      window.addEventListener('online', updateOnlineStatus);\n      window.addEventListener('offline', updateOnlineStatus);\n\n      function updateOnlineStatus() {\n        if (navigator.onLine) {\n          switchState(getDefaultBtnState());\n        } else {\n          switchState(OFFLINE);\n        }\n      }\n\n      function getDefaultBtnState(state) {\n        if (!isOriginSecure()) {\n          return NOT_SECURE_ORIGIN;\n        }\n\n        if (isAudioSupported()) {\n          return state || DEFAULT;\n        }\n\n        return NO_VOICE_SUPPORT;\n      } //#endregion\n      //#region Define settings based on the btn mode\n      // For now we have two modes: small - for tutor, and big for demo\n\n\n      var btnModes = {\n        \"tutor\": {\n          btnSize: 44,\n          rightPos: 0,\n          leftPos: 0,\n          bottomPos: 0,\n          topPos: 0\n        },\n        \"demo\": {\n          btnSize: 80,\n          rightPos: 20,\n          leftPos: 20,\n          bottomPos: 36,\n          topPos: 0\n        },\n        \"component\": {\n          btnSize: options.size || 64,\n          rightPos: 20,\n          leftPos: 20,\n          bottomPos: 40,\n          topPos: 0\n        }\n      };\n\n      function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n      }\n\n      function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n      } //#endregion\n      //#region Set styles for base layers\n\n\n      btnSize = btnModes[mode].btnSize;\n\n      if (options.left !== undefined) {\n        isLeftAligned = true;\n        isRightAligned = false;\n      }\n\n      if (options.top !== undefined) {\n        isTopAligned = true;\n        isBottomAligned = false;\n      }\n\n      if (isLeftAligned) {\n        sideBtnPos = setDefautlPositionProps(options.left !== undefined ? options.left : btnModes[mode].leftPos);\n      } else {\n        sideBtnPos = setDefautlPositionProps(options.right !== undefined ? options.right : btnModes[mode].rightPos);\n      }\n\n      if (isTopAligned) {\n        topBtnPos = setDefautlPositionProps(options.top !== undefined ? options.top : btnModes[mode].topPos);\n      } else {\n        bottomBtnPos = setDefautlPositionProps(options.bottom !== undefined ? options.bottom : btnModes[mode].bottomPos);\n      }\n\n      function setDefautlPositionProps(value) {\n        if (/^\\d+$/.test(value)) {\n          return value + 'px';\n        }\n\n        return value;\n      }\n\n      function findHighestZIndex() {\n        var elements = document.getElementsByTagName(\"*\");\n        var defaultZIndex = 4;\n\n        for (var i = 0; i < elements.length; i++) {\n          var zindex = Number.parseInt(document.defaultView.getComputedStyle(elements[i], null).getPropertyValue(\"z-index\"), 10);\n\n          if (zindex > defaultZIndex) {\n            defaultZIndex = zindex;\n          }\n        }\n\n        return defaultZIndex;\n      }\n\n      btnZIndex = options.zIndex || findHighestZIndex() + 1;\n      btnIconsZIndex = btnZIndex - 2;\n      btnTextPanelsZIndex = btnZIndex - 1;\n      btnBgLayerZIndex = btnZIndex - 3; // Define styles for root element\n\n      rootEl.style[isLeftAligned ? 'left' : 'right'] = sideBtnPos;\n\n      if (isTopAligned) {\n        rootEl.style.top = topBtnPos;\n      } else {\n        rootEl.style.bottom = bottomBtnPos;\n      }\n\n      if (btnZIndex) {\n        rootEl.style.zIndex = btnZIndex;\n      }\n\n      rootEl.style.position = options.position ? options.position : 'fixed'; // Define styles for block with recognised text\n\n      recognisedTextContent.classList.add('alanBtn-recognised-text-content');\n      recognisedTextHolder.classList.add('alanBtn-recognised-text-holder');\n      setTextPanelPosition(recognisedTextHolder);\n\n      function setTextPanelPosition(el) {\n        var _btnSize = parseInt(btnSize, 10);\n\n        if (isTopAligned) {\n          el.style.bottom = '';\n          el.style.top = (absolutePosition ? 0 : parseInt(rootEl.style.top, 10)) + _btnSize / 2 + 'px';\n        } else {\n          el.style.top = '';\n          el.style.bottom = (absolutePosition ? 0 : parseInt(rootEl.style.bottom, 10)) + _btnSize / 2 + 'px';\n        }\n\n        if (isLeftAligned) {\n          el.style.textAlign = 'left';\n          el.style.right = '';\n          el.style.left = (absolutePosition ? 0 : parseInt(rootEl.style.left, 10)) + _btnSize + 10 + 'px';\n        } else {\n          el.style.textAlign = 'right';\n          el.style.left = '';\n          el.style.right = (absolutePosition ? 0 : parseInt(rootEl.style.right, 10)) + _btnSize + 10 + 'px';\n        }\n\n        if (absolutePosition) {\n          recognisedTextHolder.style.position = 'absolute';\n        }\n\n        recognisedTextHolder.style.zIndex = btnTextPanelsZIndex;\n      }\n\n      function setStylesBasedOnSide() {\n        if (isLeftAligned) {\n          btn.style.left = 0;\n          btn.style.right = '';\n          recognisedTextHolder.classList.remove('left-side');\n          recognisedTextHolder.classList.add('right-side');\n        } else {\n          btn.style.right = 0;\n          btn.style.left = '';\n          recognisedTextHolder.classList.remove('right-side');\n          recognisedTextHolder.classList.add('left-side');\n        }\n      } // Define base styles for btn\n\n\n      btn.style.width = btnSize + 'px';\n      btn.style.minWidth = btnSize + 'px';\n      btn.style.maxWidth = btnSize + 'px';\n      btn.style.minHeight = btnSize + 'px';\n      btn.style.height = btnSize + 'px';\n      btn.style.maxHeight = btnSize + 'px';\n      btn.style.color = '#fff';\n      btn.style.position = 'absolute';\n\n      if (isTopAligned) {\n        btn.style.top = 0;\n      } else {\n        btn.style.bottom = 0;\n      }\n\n      setStylesBasedOnSide();\n      btn.style.borderRadius = '50%';\n      btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n      btn.style.textAlign = 'center';\n      btn.style.transition = 'all 0.4s ease-in-out';\n      btn.style.zIndex = btnZIndex; // Specify tabIndex if it exists in options\n\n      if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n      } // Specify cursor for btn\n\n\n      if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n      } else {\n        btn.style.cursor = 'pointer';\n      } // Define base styles for microphone btn\n\n\n      micIcon.style.minHeight = '100%';\n      micIcon.style.height = '100%';\n      micIcon.style.maxHeight = '100%';\n      micIcon.style.top = '0%';\n      micIcon.style.left = '0%';\n      micIcon.style.zIndex = btnIconsZIndex;\n      micIcon.style.position = 'relative';\n      micIcon.style.transition = 'all 0.4s ease-in-out';\n\n      function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n          var obj = logos[i];\n          logos[i].style.minHeight = '100%';\n          logos[i].style.height = '100%';\n          logos[i].style.maxHeight = '100%';\n          logos[i].style.minWidth = '100%';\n          logos[i].style.width = '100%';\n          logos[i].style.maxWidth = '100%';\n          logos[i].style.top = '0%';\n          logos[i].style.left = '0%';\n          logos[i].style.position = 'absolute';\n          logos[i].style.pointerEvents = 'none';\n          logos[i].style.animationIterationCount = 'infinite';\n          logos[i].style.animationDuration = '9s';\n          logos[i].style.animationTimingFunction = 'ease-in-out';\n          logos[i].style.opacity = 0;\n          micIcon.appendChild(logos[i]);\n        }\n      }\n\n      logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      setUpStylesForLogoParts([logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10]); // Define base styles for triangle bellow the microphone btn\n\n      defaultStateBtnIcon.src = defaultStateBtnIconImg;\n      defaultStateBtnIcon.style.minHeight = '100%';\n      defaultStateBtnIcon.style.height = '100%';\n      defaultStateBtnIcon.style.maxHeight = '100%';\n      defaultStateBtnIcon.style.minWidth = '100%';\n      defaultStateBtnIcon.style.width = '100%';\n      defaultStateBtnIcon.style.maxWidth = '100%';\n      defaultStateBtnIcon.style.top = '0%';\n      defaultStateBtnIcon.style.left = '0%';\n      defaultStateBtnIcon.style.position = 'absolute';\n      defaultStateBtnIcon.style.pointerEvents = 'none';\n      defaultStateBtnIcon.style.borderRadius = '50%';\n      micIcon.appendChild(defaultStateBtnIcon);\n      micTriangleIcon.style.minHeight = '100%';\n      micTriangleIcon.style.height = '100%';\n      micTriangleIcon.style.maxHeight = '100%';\n      micTriangleIcon.style.minWidth = '100%';\n      micTriangleIcon.style.width = '100%';\n      micTriangleIcon.style.maxWidth = '100%';\n      micTriangleIcon.style.top = '0%';\n      micTriangleIcon.style.left = '0%';\n      micTriangleIcon.style.zIndex = btnIconsZIndex;\n      micTriangleIcon.style.position = 'absolute';\n      micTriangleIcon.style.opacity = 0;\n      micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n      micTriangleIcon.style.overflow = 'hidden';\n      micTriangleIcon.style.borderRadius = '50%';\n      micTriangleIcon.style.backgroundSize = '100% 100%';\n      micTriangleIcon.style.backgroundPosition = 'center center';\n      micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n      micTriangleIcon.classList.add('triangleMicIconBg');\n      micTriangleIcon.classList.add('triangleMicIconBg-default');\n      micCircleIcon.style.minHeight = '100%';\n      micCircleIcon.style.height = '100%';\n      micCircleIcon.style.maxHeight = '100%';\n      micCircleIcon.style.minWidth = '100%';\n      micCircleIcon.style.width = '100%';\n      micCircleIcon.style.maxWidth = '100%';\n      micCircleIcon.style.top = '0%';\n      micCircleIcon.style.left = '0%';\n      micCircleIcon.style.zIndex = btnIconsZIndex;\n      micCircleIcon.style.position = 'absolute';\n      micCircleIcon.style.opacity = 0;\n      micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n      micCircleIcon.style.overflow = 'hidden';\n      micCircleIcon.style.borderRadius = '50%';\n      micCircleIcon.style.backgroundSize = '0% 0%';\n      micCircleIcon.style.backgroundPosition = 'center center';\n      micCircleIcon.style.backgroundRepeat = 'no-repeat';\n      micCircleIcon.classList.add('circleMicIconBg'); // Define base styles for loader mic icon in disconnected state\n\n      disconnectedMicLoaderIcon.style.minHeight = '70%';\n      disconnectedMicLoaderIcon.style.height = '70%';\n      disconnectedMicLoaderIcon.style.maxHeight = '70%';\n      disconnectedMicLoaderIcon.style.top = '15%';\n      disconnectedMicLoaderIcon.style.left = '15%';\n      disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n      disconnectedMicLoaderIcon.style.position = 'absolute';\n      disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n      disconnectedMicLoaderIcon.style.opacity = '0';\n      disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n      disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation; // Define base styles for mic icon in low valume state\n\n      lowVolumeMicIcon.style.minHeight = '100%';\n      lowVolumeMicIcon.style.height = '100%';\n      lowVolumeMicIcon.style.maxHeight = '100%';\n      lowVolumeMicIcon.style.top = '0%';\n      lowVolumeMicIcon.style.left = '0%';\n      lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n      lowVolumeMicIcon.style.position = 'absolute';\n      lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n      lowVolumeMicIcon.style.opacity = '0';\n      lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\"; // Define base styles for noVoiceSupport icon in low valume state\n\n      noVoiceSupportMicIcon.style.minHeight = '100%';\n      noVoiceSupportMicIcon.style.height = '100%';\n      noVoiceSupportMicIcon.style.maxHeight = '100%';\n      noVoiceSupportMicIcon.style.top = '0%';\n      noVoiceSupportMicIcon.style.left = '0%';\n      noVoiceSupportMicIcon.style.zIndex = btnIconsZIndex;\n      noVoiceSupportMicIcon.style.position = 'absolute';\n      noVoiceSupportMicIcon.style.transition = 'all 0.4s ease-in-out';\n      noVoiceSupportMicIcon.style.opacity = '0';\n      noVoiceSupportMicIcon.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgB7dvxUYMwFAbwpxMwAhvoBtVJygZ1A92gI1Qn6AjoBO0GsEG7wfPlgCtNA7xASzX5fnf5oyThLp+BQDiJAAAAAAAAAAAAAAAAxmHmDyk5n+ykLAn6SUhpHVaXwrQhcBsIr5FTLGSwb1IOmpkj9RnrxXE5+1x+fH7Pwyw0+PKSLLpCrGeq1oFiwNWiUGhCZE8UC22I7IliogmRPVFshkJkTxSjvhDZE8WqJ0QEqNURIgL0MTVEgmkhElTGhkix4WqzoNlYWFp1k1fhvvMHgc9n2cFRPzXAou/8t/JAM7EH/SD66ocM9bfrb+WR7kTGm1iHjqR3HDjXbOYMsLR+p9bvPentr3iuSeYM0B7Uwvr9RXqfA+cqKTRyma2sdSB3tMlZJ7X62Ru3Qa7CiSOIF6uN9pmw4NMuTjYUcDAcM8wEkTjaZdasytm9AfHsOL6lUJkZx5c2yr7a2ZlSyGSAa8egt5qBK0JU/TH+Na7uha4QzLHBm7+0ee8Iz/Sf/XlwtjeRtnq2mVU4dVSXUr6l/NDpccS0e5KSSekKybR9lReQkmLAV9hU7ZiFKcWCq8t5zeOtWfndOWhczcYN6+VSFq2+RfQhGnUYWUeY5ph5m0k6+iHENjs9RXuE2OYbYN3HFeKOYjQmwLrfRYgUo7EB1n2bEM03khXd0F0epDXs0Obaovd1ty39UCDAif5ygO0PRyWBH64eqJuFAP9kAwAAAAAAAAAAAAAAU/wC52820szaQtwAAAAASUVORK5CYII=\"; // Define base st`yles for ovals\n\n      var ovalCoefficient = 2;\n      var defaultBtnColorOptions = {\n        \"idle\": {\n          \"background\": {\n            \"color\": ['rgb(34, 203, 255)', 'rgb(25, 149, 255)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          }\n        },\n        \"listen\": {\n          \"background\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgb(0, 70, 255)']\n          }\n        },\n        \"process\": {\n          \"background\": {\n            \"color\": ['rgba(0, 255, 205, 0.95)', 'rgba(0, 115, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgb(0, 115, 255)', 'rgba(0, 115, 255, 0.95)']\n          }\n        },\n        \"reply\": {\n          \"background\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgba(61, 122, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgb(122, 40, 255)']\n          }\n        }\n      };\n      btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.minWidth = btnSize + 'px';\n      btnOval1.style.width = btnSize + 'px';\n      btnOval1.style.maxWidth = btnSize + 'px';\n      btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval1.style.left = 0;\n      btnOval1.style.zIndex = btnBgLayerZIndex;\n      btnOval1.style.position = 'absolute';\n      btnOval1.style.transition = 'all 0.4s ease-in-out';\n      btnOval1.style.opacity = '.5';\n      btnOval1.style.borderRadius = '100px';\n      btnOval1.style.transform = 'rotate(-315deg)';\n      btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval1.classList.add('alanBtn-oval-bg-default');\n      btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.minWidth = btnSize + 'px';\n      btnOval2.style.width = btnSize + 'px';\n      btnOval2.style.maxWidth = btnSize + 'px';\n      btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval2.style.left = 0;\n      btnOval2.style.zIndex = btnBgLayerZIndex;\n      btnOval2.style.position = 'absolute';\n      btnOval2.style.transition = 'all 0.4s ease-in-out';\n      btnOval2.style.opacity = '.5';\n      btnOval2.style.borderRadius = '100px';\n      btnOval2.style.transform = 'rotate(-45deg)';\n      btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval2.classList.add('alanBtn-oval-bg-default'); // Define base styles for mic icon in offline state\n\n      offlineIcon.style.minHeight = '100%';\n      offlineIcon.style.height = '100%';\n      offlineIcon.style.maxHeight = '100%';\n      offlineIcon.style.top = '0%';\n      offlineIcon.style.left = '0%';\n      offlineIcon.style.zIndex = btnIconsZIndex;\n      offlineIcon.style.position = 'absolute';\n      offlineIcon.style.transition = 'all 0.4s ease-in-out';\n      offlineIcon.style.opacity = '0';\n      offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n      btnBgDefault.classList.add('alanBtn-bg-default');\n      btnBgListening.classList.add('alanBtn-bg-listening');\n      btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n      btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n      btnBgUnderstood.classList.add('alanBtn-bg-understood');\n      applyBgStyles(btnBgDefault);\n      applyBgStyles(btnBgListening);\n      applyBgStyles(btnBgSpeaking);\n      applyBgStyles(btnBgIntermediate);\n      applyBgStyles(btnBgUnderstood);\n      var onOpacity = 1;\n      var offOpacity = 0;\n      btnBgDefault.style.opacity = onOpacity;\n      var allIcons = [micCircleIcon, micTriangleIcon, micIcon, offlineIcon, lowVolumeMicIcon, noVoiceSupportMicIcon, logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n      for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n      }\n\n      hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n      btn.appendChild(btnOval1);\n      btn.appendChild(btnOval2);\n      btn.appendChild(btnBgDefault);\n      btn.appendChild(btnBgListening);\n      btn.appendChild(btnBgSpeaking);\n      btn.appendChild(btnBgIntermediate);\n      btn.appendChild(btnBgUnderstood);\n      btn.appendChild(micIcon);\n      btn.appendChild(micTriangleIcon);\n      btn.appendChild(micCircleIcon);\n      btn.appendChild(disconnectedMicLoaderIcon);\n      btn.appendChild(lowVolumeMicIcon);\n      btn.appendChild(noVoiceSupportMicIcon);\n      btn.appendChild(offlineIcon);\n      btn.classList.add(\"alanBtn\");\n\n      if (isMobile()) {\n        rootEl.classList.add(\"mobile\");\n      } //#endregion\n      //#region Add needed styles to the page\n\n\n      createAlanStyleSheet();\n\n      function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n      }\n\n      function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n          existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n          existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n          existingStyleSheet.disabled = true;\n          existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}';\n\n        if (!isMobile()) {\n          keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;} .alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n        }\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-recognised-text-holder { position:fixed; transform: translateY(' + (isTopAligned ? '-' : '') + '50%); max-width:236px; font-family: \\'Lato\\', sans-serif; font-size: 14px; line-height: 18px;  min-height: 40px;  color: #000; font-weight: normal; background-color: #fff; border-radius:10px; box-shadow: 0px 1px 14px rgba(0, 0, 0, 0.35); display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start;}';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-recognised-text-holder {max-width: calc(100vw - ' + (parseInt(sideBtnPos, 10) + parseInt(btnSize, 10) + 20 + 'px') + ');}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-recognised-text-holder.with-text.left-side { text-align: left;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-recognised-text-holder.with-text.right-side { text-align: right;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-recognised-text-holder.with-text .alanBtn-recognised-text-content {padding: 10px;}';\n        keyFrames += getStyleSheetMarker(true) + '.alanBtn-recognised-text-holder-long  { font-size: 12px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.alanBtn-recognised-text-holder-super-long  { font-size: 11px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing-immediately {  animation: none; opactity: 0;   }';\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ' img {pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear', '0%{' + 'opacity:0; ' + 'color:transparent; ' + 'background-color:rgba(245, 252, 252, 0.0);' + 'border: solid 1px transparent; ' + '}' + '100%{' + 'opacity:1; ' + 'color:#000;' + 'background-color:rgba(245, 252, 252, 0.8);' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear', '0%{' + 'opacity:1; ' + 'color:#000;' + 'background-color:rgba(245, 252, 252, 0.8);  ' + '}' + '100%{' + 'opacity:0; ' + 'color:transparent;' + 'background-color:rgba(245, 252, 252, 0.0);' + 'border: solid 1px transparent;' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation', '0% {  opacity: 1;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 1;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 1;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 1;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 1;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 1;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 1;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 1;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 1;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 1;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n          if (btnOptions.btnLayerOptions) {\n            //old settings\n            predefinedBtnColorOptions = defaultBtnColorOptions;\n          } else {\n            predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n          }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n          idle: ['default'],\n          listen: ['listening'],\n          process: ['intermediate', 'understood'],\n          reply: ['speaking']\n        };\n        var stateNameClasses, stateNameClass;\n        var states = Object.keys(stateMapping);\n\n        for (i = 0; i < states.length; i++) {\n          stateName = states[i];\n          stateNameClasses = stateMapping[stateName];\n          tempLayer = predefinedBtnColorOptions[stateName];\n\n          for (var j = 0; j < stateNameClasses.length; j++) {\n            stateNameClass = stateNameClasses[j];\n\n            if (tempLayer.background) {\n              keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n            }\n\n            if (tempLayer.hover && !isMobile()) {\n              keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n            }\n          }\n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n          options.shadowDOM.prepend(style);\n        } else {\n          document.getElementsByTagName('head')[0].appendChild(style);\n        }\n      }\n\n      function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n\n        for (var i = 0; i < prefixes.length; i++) {\n          r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n\n        return r;\n      } //#endregion\n      //#region Connect to the project and add listeners\n\n\n      if (options) {\n        if (options.alanAudio) {\n          alanAudio = options.alanAudio;\n        }\n\n        if (options.key) {\n          tryReadSettingsFromLocalStorage();\n          switchState(getDefaultBtnState(DISCONNECTED));\n          window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host, null, {\n            platform: mode === 'demo' ? 'alanplayground' : null,\n            appName: window.location.hostname\n          });\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived); // console.info('BTN: tutorProject', options.key);\n        } else {\n          switchState(getDefaultBtnState());\n        }\n      }\n\n      function guid() {\n        function s4() {\n          return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n      }\n\n      function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n          uuidKey = 'alan-btn-uuid-' + getProjectId();\n          curUuid = localStorage.getItem(uuidKey);\n\n          if (curUuid) {\n            authData.uuid = curUuid;\n          } else {\n            authData.uuid = guid();\n            localStorage.setItem(uuidKey, authData.uuid);\n          }\n        } else {\n          authData.uuid = guid();\n        }\n\n        return authData;\n      }\n\n      function getProjectId() {\n        var key;\n\n        if (options.key) {\n          key = options.key;\n          return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n      }\n\n      function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n          clearTimeout(timeout);\n          timeout = setTimeout(function () {\n            func.apply(this, args);\n          }, delay);\n        };\n      }\n\n      function _activateAlanButton(resolve) {\n        playSoundNext();\n\n        if (options.onBeforeMicStart) {\n          options.onBeforeMicStart();\n        }\n\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n\n        if (options.onMicStarted) {\n          options.onMicStarted();\n        }\n      }\n\n      function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n          if (btnDisabled) {\n            reject({\n              err: BTN_IS_DISABLED_CODE\n            });\n            return;\n          }\n\n          if (isPreviewMode()) {\n            reject({\n              err: PREVIEW_MODE_CODE\n            });\n            return;\n          }\n\n          function waitForConnectionForActivateCall(res) {\n            if (res === 'authorized') {\n              window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n\n              _activateAlanButton(resolve);\n            }\n          }\n\n          if (alanAudio) {\n            switch (state) {\n              case DEFAULT:\n                try {\n                  _activateAlanButton(resolve);\n                } catch (e) {\n                  currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                  reject({\n                    err: NO_VOICE_SUPPORT_IN_BROWSER_CODE\n                  });\n                }\n\n                break;\n\n              case DISCONNECTED:\n              case OFFLINE:\n                window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                break;\n\n              case PERMISSION_DENIED:\n                reject({\n                  err: MIC_BLOCKED_CODE\n                });\n                break;\n\n              case LISTENING:\n              case SPEAKING:\n              case INTERMEDIATE:\n              case UNDERSTOOD:\n                resolve();\n                break;\n\n              default:\n            }\n          } else {\n            reject({\n              err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE\n            });\n          }\n        });\n        return activatePromise;\n      }\n\n      btn.addEventListener('click', function (e) {\n        if (afterMouseMove) return;\n        if (!dndBackAnimFinished) return;\n\n        if (currentErrMsg) {\n          alert(currentErrMsg);\n          return;\n        }\n\n        if (alanAudio) {\n          if (state === 'default') {\n            activateAlanButton();\n          } else {\n            alanAudio.stop();\n          }\n        } else {\n          throw new Error('No alan audio instance was provided');\n        } //remove focus state from the btn after click\n\n\n        this.blur();\n      });\n\n      function showRecognisedText(e) {\n        var recognisedText = '';\n\n        if (hideS2TPanel || dndIsDown) {\n          return;\n        }\n\n        recognisedTextVisible = true;\n\n        if (!options.hideRecognizedText) {\n          if (recognisedTextHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n            recognisedTextHolder.classList.add('with-text');\n            recognisedTextHolder.classList.add('alanBtn-text-appearing');\n            recognisedTextHolder.classList.remove('alanBtn-text-disappearing');\n          }\n\n          if (e.text) {\n            recognisedText = e.text;\n\n            if (recognisedText.length > 200) {\n              recognisedText = recognisedText.substr(0, 200);\n            }\n\n            recognisedTextContent.innerHTML = recognisedText;\n          }\n\n          if (recognisedText.length > 60 && recognisedText.length <= 80) {\n            recognisedTextHolder.classList.add('alanBtn-recognised-text-holder-long');\n          } else if (recognisedText.length > 80) {\n            recognisedTextHolder.classList.add('alanBtn-recognised-text-holder-super-long');\n          } else {\n            recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-long');\n            recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-super-long');\n          }\n\n          replaceRecognisedText(recognisedText);\n        }\n      }\n\n      function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n          return;\n        }\n\n        if (!options.hideRecognizedText) {\n          recognisedTextContent.innerText = recognisedText;\n        }\n      }\n\n      function hideRecognisedText(delay, noAnimation) {\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n          if (noAnimation === true) {\n            recognisedTextHolder.classList.add('alanBtn-text-disappearing-immediately');\n            recognisedTextHolder.classList.remove('alanBtn-text-appearing');\n          } else {\n            recognisedTextHolder.classList.add('alanBtn-text-disappearing');\n            recognisedTextHolder.classList.remove('alanBtn-text-appearing');\n          }\n\n          recognisedTextVisible = false;\n          setTimeout(function () {\n            recognisedTextContent.innerHTML = '';\n            recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-long');\n            recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-super-long');\n            recognisedTextHolder.classList.remove('with-text');\n          }, delay || 810);\n        }\n      }\n\n      function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue,\n            randomIndex;\n\n        while (0 !== currentIndex) {\n          randomIndex = Math.floor(Math.random() * currentIndex);\n          currentIndex -= 1;\n          temporaryValue = array[currentIndex];\n          array[currentIndex] = array[randomIndex];\n          array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n      }\n\n      function onOptionsReceived(data) {\n        if (data && data.web && data.web.hideS2TPanel === true) {\n          hideSpeach2TextPanel();\n        } else {\n          showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout !== undefined) {\n          turnOffTimeout = data.web.timeout;\n          setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n          console.info('OPTIONS', data.web.btnOptions);\n          applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (data && data.web && data.web.logoUrl) {\n          applyLogoOptions(data.web.logoUrl);\n        }\n\n        if (isLocalStorageAvailable && data) {\n          localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n\n        if (data && data.web && data.web.hidden === true) {\n          hideAlanBtn();\n        } else {\n          showAlanBtn();\n        }\n      }\n\n      function onConnectStatusChange(res) {\n        console.info('BTN: connectStatus', res);\n\n        if (options.onConnectionStatus) {\n          options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n          switchState(getDefaultBtnState(DISCONNECTED));\n        } else if (res === 'authorized') {\n          if (previousState) {\n            switchState(previousState);\n          } else {\n            switchState(getDefaultBtnState());\n          }\n        }\n      }\n\n      function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n          window.tutorProject.on('text', onTextCbInMicBtn);\n          window.tutorProject.on('parsed', onParsedCbInMicBtn);\n          window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived);\n        }\n      }\n\n      function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n        switchState(DEFAULT);\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n          window.tutorProject.off('text', onTextCbInMicBtn);\n          window.tutorProject.off('parsed', onParsedCbInMicBtn);\n          window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.off('connectStatus', onConnectStatusChange);\n          window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n          options.onMicStopped();\n        }\n      }\n\n      function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        alert(MIC_BLOCKED_MSG);\n        switchState(PERMISSION_DENIED);\n      }\n\n      function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n      }\n\n      function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        playSoundNext();\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n      }\n\n      function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n      }\n\n      function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n          options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n          switchState(UNDERSTOOD);\n        } else {\n          switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n      }\n\n      function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n          options.onCommand(e.data);\n        }\n\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n          soundOnAudio.currentTime = 0;\n          soundOnAudio.play().catch(function () {\n            console.log(\"No activation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n          soundOffAudio.currentTime = 0;\n          soundOffAudio.play().catch(function () {\n            console.log(\"No deactivation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      function playSoundNext() {\n        if (!soundNextAudioDoesNotExist) {\n          soundNextAudio.currentTime = 0;\n          soundNextAudio.play().catch(function () {\n            console.log(\"No deactivation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      window.switchState = switchState;\n\n      function switchState(newState) {\n        // console.info('BTN: state', newState);\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n          previousState = newState;\n        }\n\n        currentErrMsg = null;\n\n        if (newState === DEFAULT) {\n          btn.style.animation = '';\n          micIcon.style.animation = '';\n          micTriangleIcon.style.animation = '';\n          btnBgDefault.classList.remove('super-hidden');\n          btnBgDefault.style.opacity = onOpacity;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n          changeBgColors(DEFAULT);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 0;\n          hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === LISTENING) {\n          btn.style.animation = pulsatingAnimation;\n          micIcon.style.animation = pulsatingMicAnimation;\n          micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n          btnBgListening.classList.remove('super-hidden');\n          btnBgListening.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(LISTENING);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === SPEAKING) {\n          hideRecognisedText();\n          btn.style.animation = pulsatingAnimation;\n          btnBgSpeaking.classList.remove('super-hidden');\n          btnBgSpeaking.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(SPEAKING);\n          hideLayers([btnBgDefault, btnBgListening, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === INTERMEDIATE) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgIntermediate.classList.remove('super-hidden');\n          btnBgIntermediate.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(INTERMEDIATE);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgUnderstood]);\n        } else if (newState === UNDERSTOOD) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgUnderstood.classList.remove('super-hidden');\n          btnBgUnderstood.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(UNDERSTOOD);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgIntermediate]);\n        }\n\n        if (newState === SPEAKING) {\n          micTriangleIcon.style.opacity = 0;\n          micCircleIcon.style.opacity = 1;\n          micTriangleIcon.style.backgroundSize = '0% 0%';\n          micCircleIcon.style.backgroundSize = '100% 100%';\n        } else {\n          micCircleIcon.style.opacity = 0;\n          micCircleIcon.style.backgroundSize = '0% 0%';\n          micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n          micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n          micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n        if (!customBtnLogoUrl) {\n          if (newState === LISTENING || newState === INTERMEDIATE || newState === SPEAKING || newState === UNDERSTOOD) {\n            if (logoState1.style.animationName === '') {\n              for (i = 0; i < tempLogoParts.length; i++) {\n                if (i === 0) {\n                  tempLogoParts[i].style.opacity = 1;\n                } else {\n                  tempLogoParts[i].style.opacity = 0;\n                }\n\n                tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n              }\n            }\n\n            defaultStateBtnIcon.style.opacity = 0;\n          } else {\n            defaultStateBtnIcon.style.opacity = 1;\n\n            for (i = 0; i < tempLogoParts.length; i++) {\n              tempLogoParts[i].style.opacity = 0;\n              tempLogoParts[i].style.animationName = '';\n            }\n          }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED || newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n          if (newState === LOW_VOLUME) {\n            rootEl.classList.add(\"alan-btn-low-volume\");\n            currentErrMsg = LOW_VOLUME_MSG;\n          } else if (newState === PERMISSION_DENIED) {\n            rootEl.classList.add(\"alan-btn-permission-denied\");\n            currentErrMsg = MIC_BLOCKED_MSG;\n          } else if (newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n            rootEl.classList.add(\"alan-btn-no-voice-support\");\n\n            if (newState === NO_VOICE_SUPPORT) {\n              currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n            } else if (newState === NOT_SECURE_ORIGIN) {\n              currentErrMsg = NOT_SECURE_ORIGIN_MSG;\n            }\n          }\n\n          if (newState === NO_VOICE_SUPPORT) {\n            noVoiceSupportMicIcon.style.opacity = 1;\n            lowVolumeMicIcon.style.opacity = 0;\n          } else {\n            noVoiceSupportMicIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 1;\n          }\n\n          micIcon.style.opacity = 0;\n          micTriangleIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE) {\n          if (newState === DISCONNECTED) {\n            rootEl.classList.add(\"alan-btn-disconnected\");\n          }\n\n          if (newState === OFFLINE) {\n            rootEl.classList.add(\"alan-btn-offline\");\n            currentErrMsg = OFFLINE_MSG;\n          }\n\n          micTriangleIcon.style.opacity = 0;\n          lowVolumeMicIcon.style.opacity = 0;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n\n          if (newState === DISCONNECTED) {\n            micIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 1;\n          } else {\n            micIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 1;\n          }\n        } else {\n          lowVolumeMicIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          rootEl.classList.remove(\"alan-btn-low-volume\");\n          rootEl.classList.remove(\"alan-btn-permission-denied\");\n          rootEl.classList.remove(\"alan-btn-disconnected\");\n          rootEl.classList.remove(\"alan-btn-offline\");\n          rootEl.classList.remove(\"alan-btn-no-voice-support\");\n        }\n\n        state = newState;\n      } //#endregion\n      //#region Helpers\n\n\n      function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n      }\n\n      function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n          layers[i].style.opacity = offOpacity;\n          layers[i].classList.add('super-hidden');\n        }\n      }\n\n      function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = ['alanBtn-oval-bg-' + DEFAULT, 'alanBtn-oval-bg-' + LISTENING, 'alanBtn-oval-bg-' + INTERMEDIATE, 'alanBtn-oval-bg-' + UNDERSTOOD, 'alanBtn-oval-bg-' + SPEAKING];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n          for (var j = 0; j < tempBgLayerClasses.length; j++) {\n            tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n          }\n\n          tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n      }\n\n      function getStorageKey() {\n        var key = '';\n\n        if (options && options.key) {\n          key = options.key;\n        }\n\n        return 'alan-btn-options-' + key;\n      }\n\n      function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function isOriginSecure() {\n        var isSecure = false;\n        var protocol = window.location.protocol;\n        var hostname = window.location.hostname;\n\n        if (protocol === 'https:') {\n          isSecure = true;\n        }\n\n        if (protocol === 'file:') {\n          isSecure = true;\n        }\n\n        if (protocol === 'http:' && (hostname.indexOf('localhost') > -1 || hostname.indexOf('127.0.0.1') > -1)) {\n          isSecure = true;\n        }\n\n        return isSecure;\n      }\n\n      function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext;\n        fakeGetUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n        fakeContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n          available = true;\n        }\n\n        return available;\n      }\n\n      function getDebugInfo() {\n        var info = '\\nDebug Info:\\n';\n        info += 'getUserMedia: ';\n        info += navigator.getUserMedia ? 'true' : 'false';\n        info += ' ';\n        info += '(mediaDevices.getUserMedia: ';\n        info += navigator.mediaDevices && navigator.mediaDevices.getUserMedia ? 'true' : 'false';\n        info += ', ';\n        info += 'webkit: ';\n        info += navigator.webkitGetUserMedia ? 'true' : 'false';\n        info += ', ';\n        info += 'moz: ';\n        info += navigator.mozGetUserMedia ? 'true' : 'false';\n        info += ', ';\n        info += 'ms: ';\n        info += navigator.msGetUserMedia ? 'true' : 'false';\n        info += '), ';\n        info += 'AudioContext: ';\n        info += window.AudioContext ? 'true' : 'false';\n        info += ' ';\n        info += '(webkit: ';\n        info += window.webkitAudioContext ? 'true' : 'false';\n        info += ', ';\n        info += 'moz: ';\n        info += window.mozAudioContext ? 'true' : 'false';\n        info += '), ';\n        info += 'userAgent - ';\n        info += navigator.userAgent;\n        return info;\n      } //#endregion\n      //#region Append layers to the rootEl\n\n\n      function showAlanBtn() {\n        rootEl.innerHTML = '';\n        recognisedTextHolder.appendChild(recognisedTextContent);\n        rootEl.appendChild(recognisedTextHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n      }\n\n      function hideAlanBtn() {\n        if (!isTutorMode()) {\n          alanAudio.stop();\n          rootEl.innerHTML = '';\n          btnDisabled = true;\n        }\n      }\n\n      function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n      }\n\n      function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n      }\n\n      function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n          createAlanStyleSheet(btnOptions);\n        }\n      }\n\n      function applyLogoOptions(logoUrl) {\n        if (logoUrl) {\n          customBtnLogoUrl = logoUrl;\n          defaultStateBtnIcon.src = logoUrl;\n          micIcon.src = logoUrl;\n          micTriangleIcon.src = logoUrl;\n          micTriangleIcon.classList.remove('triangleMicIconBg'); // logoState1.src=logoUrl;\n          // logoState2.src=logoUrl;\n          // logoState3.src=logoUrl;\n          // logoState4.src=logoUrl;\n          // logoState5.src=logoUrl;\n          // logoState6.src=logoUrl;\n          // logoState7.src=logoUrl;\n          // logoState8.src=logoUrl;\n          // logoState9.src=logoUrl;\n          // logoState10.src=logoUrl;\n        }\n      }\n\n      rootEl.classList.add(\"alanBtn-root\");\n      rootEl.classList.add(\"alan-\" + getProjectId());\n      var alanBtnSavedOptions = null;\n\n      if (isTutorMode()) {\n        showAlanBtn();\n      } else {\n        if (isLocalStorageAvailable) {\n          try {\n            tryReadSettingsFromLocalStorage();\n          } catch (e) {\n            showAlanBtn();\n          }\n        } else {\n          showAlanBtn();\n        }\n      }\n\n      function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n          try {\n            alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n            if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n              if (alanBtnSavedOptions.web.btnOptions) {\n                applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n              }\n\n              if (alanBtnSavedOptions.web.hidden !== true) {\n                showAlanBtn();\n              } else {\n                hideAlanBtn();\n              }\n            }\n          } catch (e) {}\n        }\n      }\n\n      if (!options.rootEl) {\n        body.appendChild(rootEl);\n      } //#endregion\n      //#region Drag-n-drop btn logic\n\n\n      var dndInitialMousePositions = [0, 0];\n      var dndIsDown = false;\n      var afterMouseMove = false;\n      var dndSideBtnPos = null;\n      var dndTopPos;\n      var dndBottomPos;\n      var dndFinalLeftPos;\n      var dndFinalRightPos;\n      var dndAnimDelay = 300;\n      var dndAnimTransition = dndAnimDelay + 'ms';\n      var dndBackAnimFinished = true;\n\n      if (!pinned) {\n        rootEl.addEventListener('mousedown', onMouseDown, true);\n        rootEl.addEventListener('touchstart', onMouseDown, {\n          passive: false\n        });\n        document.addEventListener('mouseup', onMouseUp, true);\n        document.addEventListener('touchend', onMouseUp, {\n          passive: false\n        });\n        document.addEventListener('mousemove', onMouseMove, true);\n        document.addEventListener('touchmove', onMouseMove, {\n          passive: false\n        });\n      }\n\n      function onMouseDown(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n        if (!dndBackAnimFinished || e.buttons !== undefined && e.buttons !== 1) return;\n        dndIsDown = true;\n        rootEl.style.transition = '0ms';\n\n        if (!dndSideBtnPos) {\n          dndSideBtnPos = isLeftAligned ? rootEl.offsetLeft : window.innerWidth - rootEl.offsetLeft;\n        }\n\n        dndInitialMousePositions = [posInfo.clientX, posInfo.clientY];\n\n        if (isTopAligned) {\n          dndTopPos = +rootEl.style.top.replace('px', '');\n        } else {\n          dndBottomPos = +rootEl.style.bottom.replace('px', '');\n        }\n      }\n\n      function onMouseUp(e) {\n        var curPos;\n        var posInfo;\n\n        if (dndIsDown) {\n          posInfo = e.touches ? e.touches[0] : e;\n          dndIsDown = false;\n          rootEl.style.transition = dndAnimTransition;\n\n          if (isLeftAligned) {\n            curPos = +rootEl.style.left.replace('px', '');\n          } else {\n            curPos = +rootEl.style.right.replace('px', '');\n          }\n\n          if (curPos <= window.innerWidth / 2) {\n            if (posInfo && Math.abs(dndInitialMousePositions[0] - posInfo.clientX) < 15 && Math.abs(dndInitialMousePositions[1] - posInfo.clientY) < 15) {\n              afterMouseMove = false;\n            }\n\n            moveBtnToTheSameSide();\n          } else {\n            moveBtnToTheOppositeSide();\n          }\n\n          setTimeout(function () {\n            afterMouseMove = false;\n          }, 300);\n        }\n      }\n\n      function onMouseMove(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n\n        if (dndIsDown) {\n          hideRecognisedText(0, true);\n          e.preventDefault();\n          afterMouseMove = true;\n\n          if (isLeftAligned) {\n            dndFinalLeftPos = dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0];\n            dndFinalRightPos = window.innerWidth - dndFinalLeftPos;\n            rootEl.style.left = correctXPos(dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0]) + 'px';\n          } else {\n            dndFinalRightPos = dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0];\n            dndFinalLeftPos = window.innerWidth - dndFinalRightPos;\n            rootEl.style.right = correctXPos(dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0]) + 'px';\n          }\n\n          if (isTopAligned) {\n            rootEl.style.top = correctYPos(dndTopPos + posInfo.clientY - dndInitialMousePositions[1]) + 'px';\n          } else {\n            rootEl.style.bottom = correctYPos(dndBottomPos - posInfo.clientY + dndInitialMousePositions[1]) + 'px';\n          }\n        }\n      }\n\n      function correctYPos(yPos) {\n        var defDelta = 10;\n\n        if (yPos < 0) {\n          return defDelta;\n        } else if (yPos > window.innerHeight - btnSize - defDelta) {\n          return window.innerHeight - btnSize - defDelta;\n        }\n\n        return yPos;\n      }\n\n      function correctXPos(xPos) {\n        var defDelta = 10;\n\n        if (xPos < 0) {\n          return defDelta;\n        } else if (xPos > window.innerWidth - btnSize - defDelta) {\n          return window.innerWidth - btnSize - defDelta;\n        }\n\n        return xPos;\n      }\n\n      function changeBtnSide(side) {\n        if (side === 'to-left') {\n          rootEl.style.right = '';\n          isLeftAligned = true;\n          isRightAligned = false;\n        } else {\n          rootEl.style.left = '';\n          isLeftAligned = false;\n          isRightAligned = true;\n        }\n\n        setStylesBasedOnSide();\n      }\n\n      function moveBtnToTheSameSide() {\n        rootEl.style.transition = dndAnimTransition;\n        rootEl.style[isLeftAligned ? 'left' : 'right'] = dndSideBtnPos + 'px';\n        setTextPanelPosition(recognisedTextHolder);\n      }\n\n      function moveBtnToTheOppositeSide() {\n        var finalBtnPos = window.innerWidth - dndSideBtnPos - btnSize + 'px';\n        dndBackAnimFinished = false;\n\n        if (isLeftAligned) {\n          rootEl.style.left = finalBtnPos;\n          setTimeout(function () {\n            isLeftAligned = false;\n            rootEl.style.right = dndSideBtnPos + 'px';\n            setTextPanelPosition(recognisedTextHolder);\n            changeBtnSide('to-right');\n            dndBackAnimFinished = true;\n          }, dndAnimDelay);\n        } else {\n          rootEl.style.right = finalBtnPos;\n          setTimeout(function () {\n            rootEl.style.left = dndSideBtnPos + 'px';\n            isLeftAligned = true;\n            setTextPanelPosition(recognisedTextHolder);\n            changeBtnSide('to-left');\n            dndBackAnimFinished = true;\n          }, dndAnimDelay);\n        }\n      } //#endregion\n\n\n      return btnInstance;\n    }\n\n    ns.alanBtn = alanBtn;\n  })(window);\n\n  return alanBtn;\n});","map":{"version":3,"sources":["C:/Users/hp/Documents/node js/react udemy/voice news App/newsapp/node_modules/@alan-ai/alan-sdk-web/dist/alan_lib.js"],"names":["root","factory","define","amd","exports","module","alanBtn","ns","audioElement","document","createElement","setAttribute","addEventListener","playState","PLAY_IDLE","_handleQueue","body","appendChild","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mediaDevices","console","error","PLAY_ACTIVE","PLAY_STOPPED","handlers","micStream","audioRecorder","audioSource","frameSize","audioCtx","totalSamples","sampleRate","firstSampleTs","frameCount","audioQueue","window","AudioContext","webkitAudioContext","length","o","shift","event","fireEvent","text","audio","removeEventListener","onPlayStop","o1","o2","h","i","onGetUserMedia","mic","log","state","resume","createMediaStreamSource","createScriptProcessor","connect","onaudioprocess","e","recordFrame","inputBuffer","getChannelData","destination","onGetUserMediaError","err","sr","float32array","Date","now","audioTime","clockTime","isPlaying","playText","push","playCommand","command","playEvent","playAudio","on","handler","off","index","indexOf","splice","start","onStarted","then","stop","getTracks","track","getAudioTracks","disconnect","pause","currentTime","src","alanAudio","host","config","baseURL","location","codec","version","platform","ConnectionWrapper","_this","_worker","Worker","URL","createObjectURL","Blob","type","onmessage","data","_fire","_callback","_dialogId","onerror","filename","lineno","message","_handlers","_cleanups","_callIds","_config","prototype","getSettings","server","projectId","dialogId","setVisual","postMessage","call","method","param","callback","cid","close","_url","forEach","object","_addCleanup","f","fillAuth","values","ext","auth","k","platformVersion","appName","connectProject","mode","url","signupEvent","name","passEventToWorker","a1","a2","passEventToClient","e1","connectProjectTest","connectTutor","alan","projectTest","project","tutor","alanButtonVersion","warn","options","btnDisabled","hideS2TPanel","pinned","absolutePosition","btnInstance","setVisualState","visualState","tutorProject","callProjectApi","funcName","funcNamePrefix","Error","activate","activateAlanButton","deactivate","isActive","isAlanActive","callClientApi","setAuthData","key","getAuthData","onConnectStatusChange","onOptionsReceived","setOptions","setPreviewState","switchState","remove","rootEl","updateButtonState","baseUrl","position","DEFAULT","LISTENING","SPEAKING","INTERMEDIATE","UNDERSTOOD","DISCONNECTED","OFFLINE","LOW_VOLUME","PERMISSION_DENIED","NO_VOICE_SUPPORT","NOT_SECURE_ORIGIN","MIC_BLOCKED_MSG","NO_VOICE_SUPPORT_IN_BROWSER_MSG","getDebugInfo","NOT_SECURE_ORIGIN_MSG","protocol","hostname","LOW_VOLUME_MSG","OFFLINE_MSG","currentErrMsg","NO_VOICE_SUPPORT_IN_BROWSER_CODE","MIC_BLOCKED_CODE","PREVIEW_MODE_CODE","BTN_IS_DISABLED_CODE","NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE","previousState","isAlanSpeaking","customBtnLogoUrl","isLeftAligned","isRightAligned","isTopAligned","isBottomAligned","recognisedTextVisible","turnOffTimeout","turnOffVoiceFn","setTurnOffVoiceTimeout","debounce","switchToLowVolumeStateTimer","pulsatingAnimation","pulsatingMicAnimation","pulsatingTriangleMicAnimation","isPreviewMode","gradientAnimation","disconnectedLoaderAnimation","getElementsByTagName","btn","defaultStateBtnIconImg","micTriangleIconImg","micCircleIconImg","micIcon","defaultStateBtnIcon","logoState1","logoState2","logoState3","logoState4","logoState5","logoState6","logoState7","logoState8","logoState9","logoState10","micTriangleIcon","micCircleIcon","disconnectedMicLoaderIcon","lowVolumeMicIcon","noVoiceSupportMicIcon","offlineIcon","recognisedTextHolder","recognisedTextContent","soundOnAudioDoesNotExist","soundOffAudioDoesNotExist","soundNextAudioDoesNotExist","soundOnAudio","Audio","soundOffAudio","soundNextAudio","btnBgDefault","btnBgListening","btnBgSpeaking","btnBgIntermediate","btnBgUnderstood","btnOval1","btnOval2","btnSize","sideBtnPos","bottomBtnPos","topBtnPos","btnZIndex","btnIconsZIndex","btnTextPanelsZIndex","btnBgLayerZIndex","isLocalStorageAvailable","localStorage","getItem","updateOnlineStatus","onLine","getDefaultBtnState","isOriginSecure","isAudioSupported","btnModes","rightPos","leftPos","bottomPos","topPos","size","isTutorMode","left","undefined","top","setDefautlPositionProps","right","bottom","value","test","findHighestZIndex","elements","defaultZIndex","zindex","Number","parseInt","defaultView","getComputedStyle","getPropertyValue","zIndex","style","classList","add","setTextPanelPosition","el","_btnSize","textAlign","setStylesBasedOnSide","width","minWidth","maxWidth","minHeight","height","maxHeight","color","borderRadius","boxShadow","transition","tabIndex","cursor","setUpStylesForLogoParts","logos","obj","pointerEvents","animationIterationCount","animationDuration","animationTimingFunction","opacity","overflow","backgroundSize","backgroundPosition","backgroundRepeat","animation","ovalCoefficient","defaultBtnColorOptions","transform","filter","applyBgStyles","onOpacity","offOpacity","allIcons","hideLayers","isMobile","createAlanStyleSheet","getStyleSheetMarker","andFlag","getProjectId","btnOptions","keyFrames","existingStyleSheet","shadowDOM","getElementById","disabled","parentNode","removeChild","generateKeyFrame","predefinedBtnColorOptions","btnLayerOptions","btnBackgroundOptionKeys","Object","keys","tempLayer","stateName","stateMapping","idle","listen","process","reply","stateNameClasses","stateNameClass","states","j","background","hover","innerHTML","prepend","rule","prefixes","r","tryReadSettingsFromLocalStorage","authData","guid","s4","Math","floor","random","toString","substring","curUuid","uuidKey","uuid","setItem","substr","func","wait","timeout","delay","args","clearTimeout","setTimeout","apply","_activateAlanButton","resolve","playSoundNext","onBeforeMicStart","onMicStart","onMicStop","onMicFail","onPlayStart","onCommandCbInMicBtn","onMicStarted","activatePromise","Promise","reject","waitForConnectionForActivateCall","res","afterMouseMove","dndBackAnimFinished","alert","blur","showRecognisedText","recognisedText","dndIsDown","hideRecognizedText","replaceRecognisedText","innerText","hideRecognisedText","noAnimation","shuffle","array","currentIndex","temporaryValue","randomIndex","web","hideSpeach2TextPanel","showSpeach2TextPanel","info","applyBtnOptions","logoUrl","applyLogoOptions","getStorageKey","JSON","stringify","hidden","hideAlanBtn","showAlanBtn","onConnectionStatus","onTextCbInMicBtn","onParsedCbInMicBtn","onRecognizedCbInMicBtn","playSoundOff","onMicStopped","onReceiveRecognisedText","final","onCommand","playSoundOn","play","catch","newState","tempLogoParts","changeBgColors","animationName","backgroundImage","layers","tempBgLayers","newStateName","tempBgLayerClasses","userAgent","isSecure","available","fakeGetUserMedia","fakeContext","mozAudioContext","alanBtnSavedOptions","parse","dndInitialMousePositions","dndSideBtnPos","dndTopPos","dndBottomPos","dndFinalLeftPos","dndFinalRightPos","dndAnimDelay","dndAnimTransition","onMouseDown","passive","onMouseUp","onMouseMove","posInfo","touches","buttons","offsetLeft","innerWidth","clientX","clientY","replace","curPos","abs","moveBtnToTheSameSide","moveBtnToTheOppositeSide","preventDefault","correctXPos","correctYPos","yPos","defDelta","innerHeight","xPos","changeBtnSide","side","finalBtnPos"],"mappings":"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","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n}(this, function() {\n(function(ns) {\n    \"use strict\";\n\n    var audioElement = document.createElement(\"audio\");\n    audioElement.setAttribute(\"autoplay\", \"true\");\n    audioElement.addEventListener(\"ended\", function() {\n        playState = PLAY_IDLE;\n        _handleQueue();\n    });\n\n    document.addEventListener(\"DOMContentLoaded\", function() {\n        document.body.appendChild(audioElement);\n    });\n\n    navigator.getUserMedia = (navigator.getUserMedia ||\n                              navigator.webkitGetUserMedia ||\n                              navigator.mozGetUserMedia ||\n                              navigator.msGetUserMedia ||\n                              (navigator.mediaDevices && navigator.mediaDevices.getUserMedia));\n\n    if (!navigator.getUserMedia) {\n        console.error(\"getUserMedia is not supported\");\n    }\n\n    var PLAY_IDLE      = 'idle';\n    var PLAY_ACTIVE    = 'active';\n    var PLAY_STOPPED   = 'stopped';\n\n    var handlers       = {};\n    var micStream      = null;\n    var audioRecorder  = null;\n    var audioSource    = null;\n    var frameSize      = 4096;\n    var audioCtx       = null;\n    var totalSamples   = 0;\n    var sampleRate     = 0;\n    var firstSampleTs  = 0;\n    var frameCount     = 0;\n    var playState      = PLAY_STOPPED;\n    var audioQueue     = [];\n\n    if (window.AudioContext) {\n        audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n        audioCtx = new window.webkitAudioContext();\n    }\n\n    function _handleQueue() {\n        if (!audioQueue.length || playState !== PLAY_IDLE) {\n            return;\n        }\n        while (playState === PLAY_IDLE && audioQueue.length) {\n            var o = audioQueue.shift();\n            if (o.event) {\n                fireEvent('command', o.event);\n            } else if (o.text) {\n                fireEvent('text', o.text);\n            } else if (o.audio) {\n                playState = PLAY_ACTIVE;\n                fireEvent('playStart');\n                audioElement.setAttribute(\"src\", o.audio);\n                audioElement.removeEventListener(\"ended\", onPlayStop, false);\n                audioElement.addEventListener(\"ended\", onPlayStop, false);\n            } else {\n                console.error('invalid queue item');\n            }\n        }\n    }\n\n    function onPlayStop() {\n        fireEvent('playStop');\n    }\n\n    function fireEvent(event, o1, o2) {\n        var h = handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](o1, o2);\n            }\n        }\n    }\n\n    function onGetUserMedia(mic) {\n        console.log('got microphone');\n        fireEvent('micStart', mic);\n        micStream = mic;\n\n        if (audioCtx.state === 'suspended') {\n            audioCtx.resume();\n        }\n\n        audioSource   = audioCtx.createMediaStreamSource(micStream);\n        audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n        audioSource.connect(audioRecorder);\n        audioRecorder.onaudioprocess = function(e) {\n            if (micStream === mic) {\n                recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n            }\n        };\n        audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n        console.error('failed to get microphone', err);\n        fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n        if (playState === PLAY_ACTIVE) {\n            return;\n        }\n        if (sampleRate !== sr) {\n            sampleRate = sr;\n            firstSampleTs = Date.now();\n            totalSamples = 0;\n            frameCount = 0;\n        }\n        totalSamples += float32array.length;\n        if (++frameCount >= 300) {\n            frameCount = 0;\n            var audioTime = (1000 * totalSamples) / sampleRate;\n            var clockTime = Date.now() - firstSampleTs;\n            console.log(\"audioTime: \"   + audioTime + \", clockTime: \" + clockTime + \", ratio a/c: \" + audioTime / clockTime);\n        }\n        fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function() {\n        return playState === PLAY_ACTIVE;\n    };\n\n    ns.playText = function(text) {\n        playState = PLAY_IDLE;\n        audioQueue.push({text: text});\n        _handleQueue();\n    };\n\n    ns.playCommand = function(command) {\n        audioQueue.push({event: command});\n        _handleQueue();\n    };\n\n    ns.playEvent = function(event) {\n        audioQueue.push({event: event});\n        _handleQueue();\n    };\n\n    ns.playAudio = function(audio) {\n        audioQueue.push({audio: audio});\n        _handleQueue();\n    };\n\n    ns.on = function(event, handler) {\n        var h = handlers[event];\n        if (h == null) {\n            handlers[event] = [handler];\n        } else {\n            h.push(handler);\n        }\n    };\n\n    ns.off = function(event, handler) {\n        var h = handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ns.sampleRate = function() {\n        return sampleRate;\n    };\n\n    ns.start = function(onStarted) {\n        if (!micStream) {\n            if (navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia({audio: true}).then(onGetUserMedia, onGetUserMediaError);\n            } else {\n                navigator.getUserMedia({audio: true}, onGetUserMedia, onGetUserMediaError);\n            }\n        }\n        playState = PLAY_IDLE;\n        if (onStarted) {\n            onStarted();\n            onStarted = null;\n        }\n    };\n\n    ns.stop = function() {\n        sampleRate = -1;\n        playState = PLAY_STOPPED;\n        if (micStream) {\n            for (var i = 0; i < micStream.getTracks().length; i++) {\n                var track = micStream.getAudioTracks()[0];\n                if (track) {\n                    track.stop();\n                }\n            }\n            micStream = null;\n            fireEvent('micStop');\n        }\n        if (audioSource) {\n            audioSource.disconnect();\n            audioSource = null;\n        }\n        if (audioRecorder) {\n            audioRecorder.disconnect();\n            audioRecorder = null;\n        }\n        if (audioElement) {\n            audioElement.pause();\n            audioElement.currentTime = 0;\n            audioElement.src = \"\";\n        }\n        audioQueue = [];\n    };\n\n})(typeof(window) !== 'undefined' ? (function() {window.alanAudio = {}; return window.alanAudio})() : exports);\n\n(function(ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n\n    var config = {\n        // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n        baseURL: \"wss://\" +\n            ((host.indexOf('$') === 0 || host === '') ? window.location.host : host ),\n        codec: 'opus',\n        version: '1.2.0',\n        platform: 'web',\n    };\n\n    function ConnectionWrapper() {\n        var _this = this;\n        this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('Alan: connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('Alan: connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('Alan: connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('Alan: connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var uint8 = new Uint8Array(f.audioData);            var frame = '';            var batch = 62000;            for (var offset = 0; offset < uint8.byteLength; offset += batch) {                var b  = uint8.subarray(offset, Math.min(uint8.byteLength, offset + batch));                frame += String.fromCharCode.apply(null, b);            }            postMessage(['alanAudio', 'playFrame', frame]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'text') {                    postMessage(['alanAudio', 'playText', msg.p])                } else if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('Alan: connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('Alan: connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('Alan: reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('Alan: invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('Alan: authorized');    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('Alan: closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'mp3;base64', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]),{type: 'text/javascript'}));\n        this._worker.onmessage = function(e) {\n            if (e.data[0] === 'fireEvent') {\n                _this._fire(e.data[1], e.data[2]);\n                return;\n            }\n            if (e.data[0] === 'alanAudio') {\n                if (e.data[1] === 'playText') {\n                    alanAudio.playText(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'playAudio' || e.data[1] === 'playFrame') {\n                    alanAudio.playAudio(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'playEvent' || e.data[1] === 'playCommand') {\n                    alanAudio.playEvent(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'stop') {\n                    alanAudio.stop();\n                    return;\n                }\n            }\n            if (e.data[0] === \"callback\") {\n                _this._callback[e.data[1]](e.data[2], e.data[3]);\n                delete _this._callback[e.data[1]];\n                return;\n            }\n            if (e.data[0] === \"setDialogId\") {\n                _this._dialogId = e.data[1];\n                return;\n            }\n            console.error(\"invalid event\", e.data);\n        };\n        this._worker.onerror = function(e) {\n            console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" +  e.message);\n        };\n        this._handlers = {};\n        this._cleanups = [];\n        this._callback = {};\n        this._callIds  = 1;\n        this._config   = {};\n    }\n\n    ConnectionWrapper.prototype.on = function(event, handler) {\n        var h = this._handlers[event];\n        if (!h) {\n            h = [];\n            this._handlers[event] = h;\n        }\n        h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function(event, handler) {\n        var h = this._handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function() {\n        return {\n            server: config.baseURL,\n            projectId: this._config.projectId,\n            dialogId: this._dialogId,\n        };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function(state) {\n        this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function(method, param, callback) {\n        var cid = null;\n        if (callback) {\n            cid = this._callIds++;\n            this._callback[cid] = callback;\n        }\n        this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function() {\n        console.log('closing connection to: ' + this._url);\n        this._cleanups.forEach(h=> { h();});\n        this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function(event, object) {\n        var h = this._handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](object);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function(f) {\n        this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n        var auth = {};\n        for (var k in values) {\n            auth[k] = values[k];\n        }\n\n        if (!ext || (ext && ext.platform == null)) {\n            auth.platform = config.platform;\n        } else {\n            auth.platform = config.platform + \":\" + ext.platform;\n        }\n        if (!ext || (ext && ext.platformVersion == null)) {\n            auth.platformVersion = config.version;\n        } else {\n            auth.platformVersion = config.version + \":\" + ext.platformVersion;\n        }\n        if (ext && ext.appName) {\n            auth.appName = ext.appName;\n        }\n        return auth;\n    }\n                            \n    function connectProject(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        function signupEvent(name, handler) {\n            alanAudio.on(name, handler);\n            connect._addCleanup(function() {\n                alanAudio.off(name,  handler);\n            });\n        }\n        function passEventToWorker(name) {\n            function handler(a1, a2) {\n                if (name === 'frame' && alanAudio.isPlaying()) {\n                    return;\n                }\n                connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n            }\n            signupEvent(name, handler);\n        }\n        function passEventToClient(name) {\n            function handler(e1) {\n                connect._fire(name, e1);\n            }\n            signupEvent(name, handler);\n        }\n        passEventToWorker('frame');\n        passEventToWorker('micStop');\n        passEventToWorker('playStart');\n        passEventToClient('text');\n        passEventToClient('command');\n        return connect;\n    }\n\n    function connectProjectTest(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        function signupEvent(name, handler) {\n            alanAudio.on(name, handler);\n            connect._addCleanup(function() {\n                alanAudio.off(name,  handler);\n            });\n        }\n        function passEventToWorker(name) {\n            function handler(a1, a2) {\n                if (name === 'frame' && alanAudio.isPlaying()) {\n                    return;\n                }\n                connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n            }\n            signupEvent(name, handler);\n        }\n        function passEventToClient(name) {\n            function handler(e1) {\n                connect._fire(name, e1);\n            }\n            signupEvent(name, handler);\n        }\n        passEventToWorker('frame');\n        passEventToWorker('micStop');\n        passEventToWorker('playStart');\n        passEventToClient('text');\n        passEventToClient('command');\n        return connect;\n    }\n\n    function connectTutor(auth, host) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.version = config.version;\n        connect._config.url = config.baseURL + \"/ws_tutor\";\n        connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n        return connect;\n    }\n\n    ns.alan = {\n        projectTest: connectProjectTest,\n        project: connectProject,\n        tutor: connectTutor,\n    };\n\n})(window);\n\n(function(ns) {\n    \"use strict\";\n    var alanButtonVersion = '1.8.9';\n\n    if (window.alanBtn) {\n        console.warn('Alan: the Alan Button source code has already added (v.' + alanButtonVersion + ')');\n    }\n\nfunction alanBtn(options) {\n\n    options = options || {};\n\n    var btnDisabled = false;\n    var hideS2TPanel = false;\n    var pinned = false;\n    var absolutePosition = false;\n    \n    console.log('Alan: v.' + alanButtonVersion);\n\n    var btnInstance = {\n        // Common public API\n        version: alanButtonVersion,\n        setVisualState: function (visualState) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.setVisual(visualState);\n            }\n        },\n        callProjectApi: function (funcName, data, callback) {\n            var funcNamePrefix = 'script::';\n            if (btnDisabled) {\n                return;\n            }\n            if (!funcName) {\n                throw new Error('Function name for callProjectApi must be provided');\n            }\n\n            if (window.tutorProject) {\n                if (funcName.indexOf(funcNamePrefix) === 0) {\n                    window.tutorProject.call(funcName, data, callback);\n                } else {\n                    window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n                }\n            }\n        },\n        playText: function (text) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call('play', {\n                    text: text\n                });\n            }\n        },\n        playCommand: function (command) {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.playCommand({\n                data: command\n            });\n        },\n        activate: function () {\n            return activateAlanButton();\n        },\n        deactivate: function () {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.stop();\n        },\n        isActive: function () {\n            return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function (method, data, callback) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call(method, data, callback);\n            }\n        },\n        // deprecated\n        setAuthData: function (data) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.close();\n                window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n                window.tutorProject.on('connectStatus', onConnectStatusChange);\n                window.tutorProject.on('options', onOptionsReceived);\n            }\n        },\n        // Other methods\n        setOptions: function (options) {\n            onOptionsReceived(options);\n        },\n        setPreviewState: function (state) {\n            switchState(state);\n        },\n        remove: function () {\n            alanAudio.stop();\n            window.tutorProject.close();\n            rootEl.remove();\n        },\n        stop: function () {\n            alanAudio.stop();\n        },\n        updateButtonState: function (state) {\n            onConnectStatusChange(state);\n        }\n    };\n\n\n    //Host\n    var host = 'studio.alan.app';\n    var baseUrl = 'https://' + ((host.indexOf('$') === 0 || host === '') ? window.location.host : host);\n\n    if (options.host) {\n        baseUrl = 'https://' + options.host;\n    }\n\n    // Btn modes\n    var mode;\n\n    if (options.mode === 'tutor') {\n        mode = 'tutor';\n        pinned = true;\n    } else if (options.mode === 'demo') {\n        mode = 'demo';\n    } else {\n        mode = 'component';\n    }\n\n    if (options.position === 'absolute' || options.pinned) {\n        pinned = true;\n    }\n\n    if (options.position === 'absolute') {\n        absolutePosition = true;\n    }\n\n    // Btn states\n    var DEFAULT = 'default';\n    var LISTENING = 'listening';\n    var SPEAKING = 'speaking';\n    var INTERMEDIATE = 'intermediate';\n    var UNDERSTOOD = 'understood';\n    var DISCONNECTED = 'disconnected';\n    var OFFLINE = 'offline';\n    var LOW_VOLUME = 'lowVolume';\n    var PERMISSION_DENIED = 'permissionDenied';\n    var NO_VOICE_SUPPORT = 'noVoiceSupport';\n    var NOT_SECURE_ORIGIN = 'notSecureOrigin';\n\n    // Error messages\n    var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n    var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. If you think your browser supports voice input, please send the Debug info below to support@alan.app. ' + getDebugInfo();\n    var NOT_SECURE_ORIGIN_MSG = 'Audio is allowed only on the secure connection: make sure that your connection protocol is under https, file or http with localhost. Now you are running with \"' + window.location.protocol + '\" protocol and \"' + window.location.hostname + '\" hostname';\n    var LOW_VOLUME_MSG = 'Low volume level';\n    var OFFLINE_MSG = 'You\\'re offline';\n    var currentErrMsg = null;\n\n\n    var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n    var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n    var PREVIEW_MODE_CODE = 'preview-mode';\n    var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n    var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided';\n\n    // Set default state for btn\n    var state = DISCONNECTED;\n    var previousState = null;\n    var isAlanSpeaking = false;\n    var isAlanActive = false;\n    var customBtnLogoUrl;\n\n    // Set btn position flags\n    var isLeftAligned = false;\n    var isRightAligned = true;\n    var isTopAligned = false;\n    var isBottomAligned = false;\n\n    var recognisedTextVisible = false;\n\n    var turnOffTimeout = 30000;\n    var turnOffVoiceFn;\n\n    function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n            if (isAlanSpeaking) {\n                // console.info('BTN: CONTINUE alanAudio', new Date());\n                turnOffVoiceFn();\n            } else {\n                // console.info('BTN: STOP alanAudio', new Date());\n                alanAudio.stop();\n            }\n        }, turnOffTimeout);\n    }\n\n    setTurnOffVoiceTimeout();\n\n    var switchToLowVolumeStateTimer = null;\n\n    // Css animations\n    var pulsatingAnimation = '';\n    var pulsatingMicAnimation = '';\n    var pulsatingTriangleMicAnimation = '';\n    if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n    }\n\n    var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n    var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite';\n\n    // Set alanAudio\n    var alanAudio = window.alanAudio;\n\n    // Define base blocks and layers\n    var rootEl = options.rootEl || document.createElement('div');\n    var body = document.getElementsByTagName('body')[0];\n    var btn = document.createElement('div');\n    var defaultStateBtnIconImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgB7dvvUcIwGMfxByfADdjAEdQN3EA2YATcAJ2AEXADdALcgG4AGzwm13DQkNKWQBvK93OXF4W0Z36mf5IUEQAAAAAAAAAAgPOo6ocpS91bmfIuOM2ENHJhlVnbOoIwF1CVleCYCWas9U0kEQ+SjibXuDdJxEASYbtVg+rbwWDwKAm41QDFBJjE357SKXyTCDASAUYiwEgEGIkAIxFgJAKMRICRWgvQTRZs3IzLxef2rn38zmlxqmoT+L6Rpse/ltbGk36j/bFsKJRTqvZva6zc2TXQtHfofbSV+rYVx2pNmwFm3vbI2/6R+r4rjvUnLWkzQL9Rz972l9T3WXGsTPrGTsN794FloM5Uq00D+/kLUb28Cw8DYbwE6k1LgrOPKJNA/dBaykj6SItrvdZaAzcAzZc3bTBzVyYl9YZ6vJK3kL6yPS7QW+ZyJhvW3fS+HdPAWaDRiyYNdz1vecl/xs0oOe12p3Plxd+d2mX7t/482MnKlutt9i48CnydSf5M+Cv7xxFb78mUsSnDkn1ezeAjk3uh+Y0i1JOaWuu9vi/jTueZns/u29kwLhma98Z5g+CWpjwLirT4/Oezn01S63HJvNrhs4kdbqfyKoePKf1IBBiJACMRYCQCjESAkVIO8HDhKBM0o/tZFzsTzY9sAAAAAAAAAABAjH+9EqX09fBHaQAAAABJRU5ErkJggg==';\n    var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n    var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n    \n    var micIcon = document.createElement('div');\n    var defaultStateBtnIcon = document.createElement('img');\n    var logoState1 = document.createElement('img');\n    var logoState2 = document.createElement('img');\n    var logoState3 = document.createElement('img');\n    var logoState4 = document.createElement('img');\n    var logoState5 = document.createElement('img');\n    var logoState6 = document.createElement('img');\n    var logoState7 = document.createElement('img');\n    var logoState8 = document.createElement('img');\n    var logoState9 = document.createElement('img');\n    var logoState10 = document.createElement('img');\n    var micTriangleIcon = document.createElement('div');\n    var micCircleIcon = document.createElement('div');\n    var disconnectedMicLoaderIcon = document.createElement('img');\n    var lowVolumeMicIcon = document.createElement('img');\n    var noVoiceSupportMicIcon = document.createElement('img');\n    var offlineIcon = document.createElement('img');\n    var recognisedTextHolder = document.createElement('div');\n    var recognisedTextContent = document.createElement('div');\n    var soundOnAudioDoesNotExist = false;\n    var soundOffAudioDoesNotExist = false;\n    var soundNextAudioDoesNotExist = false;\n    var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a?v=' + alanButtonVersion);\n    soundOnAudio.onerror = function() {\n        soundOnAudioDoesNotExist = true;\n    };\n    var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a?v=' + alanButtonVersion);\n    soundOffAudio.onerror = function() {\n        soundOffAudioDoesNotExist = true;\n    };\n    var soundNextAudio = new Audio(baseUrl + '/resources/sounds/soundNext.m4a?v=' + alanButtonVersion);\n    soundNextAudio.onerror = function() {\n        soundNextAudioDoesNotExist = true;\n    };\n\n    // Specify layers for different statets to make smooth animation\n    var btnBgDefault = document.createElement('div');\n    var btnBgListening = document.createElement('div');\n    var btnBgSpeaking = document.createElement('div');\n    var btnBgIntermediate = document.createElement('div');\n    var btnBgUnderstood = document.createElement('div');\n\n    // Specify layers with ovals\n    var btnOval1 = document.createElement('div');\n    var btnOval2 = document.createElement('div');\n\n    // Some variables for setting up right properties for Alan Btn\n    var btnSize;\n    var sideBtnPos;\n    var bottomBtnPos;\n    var topBtnPos;\n    var btnZIndex;\n    var btnIconsZIndex;\n    var btnTextPanelsZIndex;\n    var btnBgLayerZIndex;\n\n    // Define base properties for disable/enable button functionality\n    var isLocalStorageAvailable = false;\n\n    try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n    } catch (e) {\n        isLocalStorageAvailable = false;\n    }\n\n    //#region Listen online/offline events to manage connected/disconnected states\n    window.addEventListener('online', updateOnlineStatus);\n    window.addEventListener('offline', updateOnlineStatus);\n\n    function updateOnlineStatus() {\n        if (navigator.onLine) {\n            switchState(getDefaultBtnState());\n        } else {\n            switchState(OFFLINE);\n        }\n    }\n\n    function getDefaultBtnState(state) {\n        if (!isOriginSecure()){\n            return NOT_SECURE_ORIGIN;\n        }\n        if (isAudioSupported()) {\n            return state || DEFAULT;\n        }\n        return NO_VOICE_SUPPORT;\n    }\n\n    //#endregion\n\n    //#region Define settings based on the btn mode\n    // For now we have two modes: small - for tutor, and big for demo\n    var btnModes = {\n        \"tutor\": {\n            btnSize: 44,\n            rightPos: 0,\n            leftPos: 0,\n            bottomPos: 0,\n            topPos: 0,\n        },\n        \"demo\": {\n            btnSize: 80,\n            rightPos: 20,\n            leftPos: 20,\n            bottomPos: 36,\n            topPos: 0,\n        },\n        \"component\": {\n            btnSize: options.size || 64,\n            rightPos: 20,\n            leftPos: 20,\n            bottomPos: 40,\n            topPos: 0,\n        }\n    };\n\n    function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n    }\n\n    function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n    }\n\n    //#endregion\n\n    //#region Set styles for base layers\n\n    btnSize = btnModes[mode].btnSize;\n    \n    if (options.left !== undefined) {\n        isLeftAligned = true;\n        isRightAligned = false;\n    }\n    if (options.top !== undefined) {\n        isTopAligned = true;\n        isBottomAligned = false;\n    }\n\n    if (isLeftAligned) {\n        sideBtnPos = setDefautlPositionProps(options.left !== undefined ? options.left : btnModes[mode].leftPos);\n    } else {\n        sideBtnPos = setDefautlPositionProps(options.right !== undefined ? options.right : btnModes[mode].rightPos);\n    }\n\n    if (isTopAligned) {\n        topBtnPos = setDefautlPositionProps(options.top !== undefined ? options.top : btnModes[mode].topPos);\n    } else {\n        bottomBtnPos = setDefautlPositionProps(options.bottom !== undefined ? options.bottom : btnModes[mode].bottomPos);\n    }\n\n    function setDefautlPositionProps(value) {\n        if (/^\\d+$/.test(value)) {\n            return value + 'px';\n        }\n        return value;\n    }\n\n    function findHighestZIndex() {\n        var elements = document.getElementsByTagName(\"*\");\n        var defaultZIndex = 4;\n        for (var i = 0; i < elements.length; i++) {\n            var zindex = Number.parseInt(\n                document.defaultView.getComputedStyle(elements[i], null).getPropertyValue(\"z-index\"),\n                10\n            );\n            if (zindex > defaultZIndex) {\n                defaultZIndex = zindex;\n            }\n        }\n        return defaultZIndex;\n    }\n\n    btnZIndex = options.zIndex || (findHighestZIndex() + 1);\n    btnIconsZIndex = btnZIndex - 2;\n    btnTextPanelsZIndex = btnZIndex - 1;\n    btnBgLayerZIndex = btnZIndex - 3;\n\n    // Define styles for root element\n    rootEl.style[isLeftAligned ? 'left' : 'right'] = sideBtnPos;\n\n    if (isTopAligned) {\n        rootEl.style.top = topBtnPos;\n    } else {\n        rootEl.style.bottom = bottomBtnPos;\n    }\n\n    if (btnZIndex) {\n        rootEl.style.zIndex =  btnZIndex;\n    }\n    \n    rootEl.style.position = options.position ? options.position : 'fixed';\n\n    // Define styles for block with recognised text\n    recognisedTextContent.classList.add('alanBtn-recognised-text-content');\n    recognisedTextHolder.classList.add('alanBtn-recognised-text-holder');\n    setTextPanelPosition(recognisedTextHolder);\n\n    function setTextPanelPosition(el) {\n        var _btnSize = parseInt(btnSize, 10);\n        if (isTopAligned) {\n            el.style.bottom = '';\n            el.style.top = (absolutePosition ? 0 : parseInt(rootEl.style.top, 10)) + _btnSize / 2 + 'px';\n        } else {\n            el.style.top = '';\n            el.style.bottom = (absolutePosition ? 0 : parseInt(rootEl.style.bottom, 10)) + _btnSize / 2 + 'px';\n        }\n        if (isLeftAligned) {\n            el.style.textAlign = 'left';\n            el.style.right = '';\n            el.style.left = (absolutePosition ? 0 : parseInt(rootEl.style.left, 10)) + _btnSize + 10 + 'px';\n        } else {\n            el.style.textAlign = 'right';\n            el.style.left = '';\n            el.style.right = (absolutePosition ? 0 : parseInt(rootEl.style.right, 10)) + _btnSize + 10 + 'px';\n        }\n        if (absolutePosition) {\n            recognisedTextHolder.style.position = 'absolute';\n        }\n        recognisedTextHolder.style.zIndex = btnTextPanelsZIndex;\n    }\n\n    function setStylesBasedOnSide() {\n        if (isLeftAligned) {\n            btn.style.left = 0;\n            btn.style.right = '';\n            recognisedTextHolder.classList.remove('left-side');\n            recognisedTextHolder.classList.add('right-side');\n        } else {\n            btn.style.right = 0;\n            btn.style.left = '';\n            recognisedTextHolder.classList.remove('right-side');\n            recognisedTextHolder.classList.add('left-side');\n        }\n    }\n\n    // Define base styles for btn\n    btn.style.width = btnSize + 'px';\n    btn.style.minWidth = btnSize + 'px';\n    btn.style.maxWidth = btnSize + 'px';\n    btn.style.minHeight = btnSize + 'px';\n    btn.style.height = btnSize + 'px';\n    btn.style.maxHeight = btnSize + 'px';\n    btn.style.color = '#fff';\n    btn.style.position = 'absolute';\n    if (isTopAligned) {\n        btn.style.top = 0;\n    } else {\n        btn.style.bottom = 0;\n    }\n    setStylesBasedOnSide();\n    btn.style.borderRadius = '50%';\n    btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n    btn.style.textAlign = 'center';\n    btn.style.transition = 'all 0.4s ease-in-out';\n    btn.style.zIndex = btnZIndex;\n\n    // Specify tabIndex if it exists in options\n    if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n    }\n\n    // Specify cursor for btn\n    if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n    } else {\n        btn.style.cursor = 'pointer';\n    }\n\n    // Define base styles for microphone btn\n    micIcon.style.minHeight = '100%';\n    micIcon.style.height = '100%';\n    micIcon.style.maxHeight = '100%';\n    micIcon.style.top = '0%';\n    micIcon.style.left = '0%';\n    micIcon.style.zIndex = btnIconsZIndex;\n    micIcon.style.position = 'relative';\n    micIcon.style.transition = 'all 0.4s ease-in-out';\n\n    function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n            var obj = logos[i];\n            logos[i].style.minHeight = '100%';\n            logos[i].style.height = '100%';\n            logos[i].style.maxHeight = '100%';\n            logos[i].style.minWidth = '100%';\n            logos[i].style.width = '100%';\n            logos[i].style.maxWidth = '100%';\n            logos[i].style.top = '0%';\n            logos[i].style.left = '0%';\n            logos[i].style.position = 'absolute';\n            logos[i].style.pointerEvents = 'none';\n            logos[i].style.animationIterationCount = 'infinite';\n            logos[i].style.animationDuration = '9s';\n            logos[i].style.animationTimingFunction = 'ease-in-out';\n            logos[i].style.opacity = 0;\n            micIcon.appendChild(logos[i]);\n        }\n    }\n\n    logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n\n    setUpStylesForLogoParts([\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ]);\n\n    // Define base styles for triangle bellow the microphone btn\n    defaultStateBtnIcon.src = defaultStateBtnIconImg;\n    defaultStateBtnIcon.style.minHeight = '100%';\n    defaultStateBtnIcon.style.height = '100%';\n    defaultStateBtnIcon.style.maxHeight = '100%';\n    defaultStateBtnIcon.style.minWidth = '100%';\n    defaultStateBtnIcon.style.width = '100%';\n    defaultStateBtnIcon.style.maxWidth = '100%';\n    defaultStateBtnIcon.style.top = '0%';\n    defaultStateBtnIcon.style.left = '0%';\n    defaultStateBtnIcon.style.position = 'absolute';\n    defaultStateBtnIcon.style.pointerEvents = 'none';\n    defaultStateBtnIcon.style.borderRadius = '50%';\n    micIcon.appendChild(defaultStateBtnIcon);\n\n    micTriangleIcon.style.minHeight = '100%';\n    micTriangleIcon.style.height = '100%';\n    micTriangleIcon.style.maxHeight = '100%';\n    micTriangleIcon.style.minWidth = '100%';\n    micTriangleIcon.style.width = '100%';\n    micTriangleIcon.style.maxWidth = '100%';\n    micTriangleIcon.style.top = '0%';\n    micTriangleIcon.style.left = '0%';\n    micTriangleIcon.style.zIndex = btnIconsZIndex;\n    micTriangleIcon.style.position = 'absolute';\n    micTriangleIcon.style.opacity = 0;\n    micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n    micTriangleIcon.style.overflow = 'hidden';\n    micTriangleIcon.style.borderRadius = '50%';\n    micTriangleIcon.style.backgroundSize = '100% 100%';\n    micTriangleIcon.style.backgroundPosition = 'center center';\n    micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n    micTriangleIcon.classList.add('triangleMicIconBg');\n    micTriangleIcon.classList.add('triangleMicIconBg-default');\n\n    micCircleIcon.style.minHeight = '100%';\n    micCircleIcon.style.height = '100%';\n    micCircleIcon.style.maxHeight = '100%';\n    micCircleIcon.style.minWidth = '100%';\n    micCircleIcon.style.width = '100%';\n    micCircleIcon.style.maxWidth = '100%';\n    micCircleIcon.style.top = '0%';\n    micCircleIcon.style.left = '0%';\n    micCircleIcon.style.zIndex = btnIconsZIndex;\n    micCircleIcon.style.position = 'absolute';\n    micCircleIcon.style.opacity = 0;\n    micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n    micCircleIcon.style.overflow = 'hidden';\n    micCircleIcon.style.borderRadius = '50%';\n    micCircleIcon.style.backgroundSize = '0% 0%';\n    micCircleIcon.style.backgroundPosition = 'center center';\n    micCircleIcon.style.backgroundRepeat = 'no-repeat';\n    micCircleIcon.classList.add('circleMicIconBg');\n\n    // Define base styles for loader mic icon in disconnected state\n    disconnectedMicLoaderIcon.style.minHeight = '70%';\n    disconnectedMicLoaderIcon.style.height = '70%';\n    disconnectedMicLoaderIcon.style.maxHeight = '70%';\n    disconnectedMicLoaderIcon.style.top = '15%';\n    disconnectedMicLoaderIcon.style.left = '15%';\n    disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n    disconnectedMicLoaderIcon.style.position = 'absolute';\n    disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n    disconnectedMicLoaderIcon.style.opacity = '0';\n    disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n    disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation;\n\n    // Define base styles for mic icon in low valume state\n    lowVolumeMicIcon.style.minHeight = '100%';\n    lowVolumeMicIcon.style.height = '100%';\n    lowVolumeMicIcon.style.maxHeight = '100%';\n    lowVolumeMicIcon.style.top = '0%';\n    lowVolumeMicIcon.style.left = '0%';\n    lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n    lowVolumeMicIcon.style.position = 'absolute';\n    lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n    lowVolumeMicIcon.style.opacity = '0';\n    lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    // Define base styles for noVoiceSupport icon in low valume state\n    noVoiceSupportMicIcon.style.minHeight = '100%';\n    noVoiceSupportMicIcon.style.height = '100%';\n    noVoiceSupportMicIcon.style.maxHeight = '100%';\n    noVoiceSupportMicIcon.style.top = '0%';\n    noVoiceSupportMicIcon.style.left = '0%';\n    noVoiceSupportMicIcon.style.zIndex = btnIconsZIndex;\n    noVoiceSupportMicIcon.style.position = 'absolute';\n    noVoiceSupportMicIcon.style.transition = 'all 0.4s ease-in-out';\n    noVoiceSupportMicIcon.style.opacity = '0';\n    noVoiceSupportMicIcon.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgB7dvxUYMwFAbwpxMwAhvoBtVJygZ1A92gI1Qn6AjoBO0GsEG7wfPlgCtNA7xASzX5fnf5oyThLp+BQDiJAAAAAAAAAAAAAAAAxmHmDyk5n+ykLAn6SUhpHVaXwrQhcBsIr5FTLGSwb1IOmpkj9RnrxXE5+1x+fH7Pwyw0+PKSLLpCrGeq1oFiwNWiUGhCZE8UC22I7IliogmRPVFshkJkTxSjvhDZE8WqJ0QEqNURIgL0MTVEgmkhElTGhkix4WqzoNlYWFp1k1fhvvMHgc9n2cFRPzXAou/8t/JAM7EH/SD66ocM9bfrb+WR7kTGm1iHjqR3HDjXbOYMsLR+p9bvPentr3iuSeYM0B7Uwvr9RXqfA+cqKTRyma2sdSB3tMlZJ7X62Ru3Qa7CiSOIF6uN9pmw4NMuTjYUcDAcM8wEkTjaZdasytm9AfHsOL6lUJkZx5c2yr7a2ZlSyGSAa8egt5qBK0JU/TH+Na7uha4QzLHBm7+0ee8Iz/Sf/XlwtjeRtnq2mVU4dVSXUr6l/NDpccS0e5KSSekKybR9lReQkmLAV9hU7ZiFKcWCq8t5zeOtWfndOWhczcYN6+VSFq2+RfQhGnUYWUeY5ph5m0k6+iHENjs9RXuE2OYbYN3HFeKOYjQmwLrfRYgUo7EB1n2bEM03khXd0F0epDXs0Obaovd1ty39UCDAif5ygO0PRyWBH64eqJuFAP9kAwAAAAAAAAAAAAAAU/wC52820szaQtwAAAAASUVORK5CYII=\";\n    \n    // Define base st`yles for ovals\n    var ovalCoefficient = 2;\n    var defaultBtnColorOptions = {\n        \"idle\": {\n            \"background\": {\n                \"color\": [\n                    'rgb(34, 203, 255)',\n                    'rgb(25, 149, 255)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            }\n        },\n        \"listen\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": ['rgba(0, 70, 255, 0.95)',\n                    'rgb(0, 70, 255)']\n            },\n        },\n        \"process\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 255, 205, 0.95)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgb(0, 115, 255)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n            }\n        },\n\n        \"reply\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgba(61, 122, 255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgb(122, 40, 255)'\n                ]\n            },\n        }\n    };\n    btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.minWidth = btnSize + 'px';\n    btnOval1.style.width = btnSize + 'px';\n    btnOval1.style.maxWidth = btnSize + 'px';\n    btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval1.style.left = 0;\n    btnOval1.style.zIndex = btnBgLayerZIndex;\n    btnOval1.style.position = 'absolute';\n    btnOval1.style.transition = 'all 0.4s ease-in-out';\n    btnOval1.style.opacity = '.5';\n    btnOval1.style.borderRadius = '100px';\n    btnOval1.style.transform = 'rotate(-315deg)';\n    btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval1.classList.add('alanBtn-oval-bg-default');\n\n\n    btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.minWidth = btnSize + 'px';\n    btnOval2.style.width = btnSize + 'px';\n    btnOval2.style.maxWidth = btnSize + 'px';\n    btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval2.style.left = 0;\n    btnOval2.style.zIndex = btnBgLayerZIndex;\n    btnOval2.style.position = 'absolute';\n    btnOval2.style.transition = 'all 0.4s ease-in-out';\n    btnOval2.style.opacity = '.5';\n    btnOval2.style.borderRadius = '100px';\n    btnOval2.style.transform = 'rotate(-45deg)';\n    btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval2.classList.add('alanBtn-oval-bg-default');\n\n    // Define base styles for mic icon in offline state\n    offlineIcon.style.minHeight = '100%';\n    offlineIcon.style.height = '100%';\n    offlineIcon.style.maxHeight = '100%';\n    offlineIcon.style.top = '0%';\n    offlineIcon.style.left = '0%';\n    offlineIcon.style.zIndex = btnIconsZIndex;\n    offlineIcon.style.position = 'absolute';\n    offlineIcon.style.transition = 'all 0.4s ease-in-out';\n    offlineIcon.style.opacity = '0';\n    offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    btnBgDefault.classList.add('alanBtn-bg-default');\n    btnBgListening.classList.add('alanBtn-bg-listening');\n    btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n    btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n    btnBgUnderstood.classList.add('alanBtn-bg-understood');\n\n    applyBgStyles(btnBgDefault);\n    applyBgStyles(btnBgListening);\n    applyBgStyles(btnBgSpeaking);\n    applyBgStyles(btnBgIntermediate);\n    applyBgStyles(btnBgUnderstood);\n\n    var onOpacity = 1;\n    var offOpacity = 0;\n\n\n    btnBgDefault.style.opacity = onOpacity;\n\n    var allIcons = [\n        micCircleIcon,\n        micTriangleIcon,\n        micIcon,\n        offlineIcon,\n        lowVolumeMicIcon,\n        noVoiceSupportMicIcon,\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ];\n\n    for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n    }\n\n    hideLayers([\n        btnBgListening,\n        btnBgSpeaking,\n        btnBgIntermediate,\n        btnBgUnderstood,\n    ]);\n\n    btn.appendChild(btnOval1);\n    btn.appendChild(btnOval2);\n    btn.appendChild(btnBgDefault);\n    btn.appendChild(btnBgListening);\n    btn.appendChild(btnBgSpeaking);\n    btn.appendChild(btnBgIntermediate);\n    btn.appendChild(btnBgUnderstood);\n    btn.appendChild(micIcon);\n    btn.appendChild(micTriangleIcon);\n    btn.appendChild(micCircleIcon);\n    btn.appendChild(disconnectedMicLoaderIcon);\n    btn.appendChild(lowVolumeMicIcon);\n    btn.appendChild(noVoiceSupportMicIcon);\n    btn.appendChild(offlineIcon);\n    btn.classList.add(\"alanBtn\");\n\n    if(isMobile()){\n        rootEl.classList.add(\"mobile\");\n    }\n\n    //#endregion\n\n    //#region Add needed styles to the page\n    createAlanStyleSheet();\n\n    function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n    }\n\n    function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n            existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n            existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n            existingStyleSheet.disabled = true;\n            existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}';\n\n        if (!isMobile()) {\n            keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;} .alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n        }\n        \n        keyFrames += getStyleSheetMarker() + '.alanBtn-recognised-text-holder { position:fixed; transform: translateY(' + (isTopAligned ? '-' : '') +'50%); max-width:236px; font-family: \\'Lato\\', sans-serif; font-size: 14px; line-height: 18px;  min-height: 40px;  color: #000; font-weight: normal; background-color: #fff; border-radius:10px; box-shadow: 0px 1px 14px rgba(0, 0, 0, 0.35); display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start;}';\n        \n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-recognised-text-holder {max-width: calc(100vw - ' + (parseInt(sideBtnPos,10) + parseInt(btnSize,10) + 20 + 'px') + ');}';\n\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-recognised-text-holder.with-text.left-side { text-align: left;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-recognised-text-holder.with-text.right-side { text-align: right;}';\n\n\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-recognised-text-holder.with-text .alanBtn-recognised-text-content {padding: 10px;}';\n        \n        keyFrames += getStyleSheetMarker(true) + '.alanBtn-recognised-text-holder-long  { font-size: 12px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.alanBtn-recognised-text-holder-super-long  { font-size: 11px!important;line-height: 1.4!important;}  ';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing-immediately {  animation: none; opactity: 0;   }';\n\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ' img {pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear',\n            '0%{' +\n            'opacity:0; ' +\n            'color:transparent; ' +\n            'background-color:rgba(245, 252, 252, 0.0);' +\n            'border: solid 1px transparent; ' +\n            '}' +\n            '100%{' +\n            'opacity:1; ' +\n            'color:#000;' +\n            'background-color:rgba(245, 252, 252, 0.8);' +\n            '}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear',\n            '0%{' +\n            'opacity:1; ' +\n            'color:#000;' +\n            'background-color:rgba(245, 252, 252, 0.8);  ' +\n            '}' +\n            '100%{' +\n            'opacity:0; ' +\n            'color:transparent;' +\n            'background-color:rgba(245, 252, 252, 0.0);' +\n            'border: solid 1px transparent;' +\n            '}');\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation',\n            '0% {  opacity: 1;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 1;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 1;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 1;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 1;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 1;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 1;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 1;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 1;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 1;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n            if (btnOptions.btnLayerOptions) { //old settings\n                predefinedBtnColorOptions = defaultBtnColorOptions;\n            } else {\n                predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n            }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n            idle: ['default'],\n            listen: ['listening'],\n            process: ['intermediate', 'understood'],\n            reply: ['speaking'],\n        };\n        var stateNameClasses,stateNameClass;\n        var states = Object.keys(stateMapping);\n        for (i = 0; i < states.length; i++) {\n            stateName = states[i];\n            stateNameClasses = stateMapping[stateName];\n            tempLayer = predefinedBtnColorOptions[stateName];\n            for(var j = 0; j < stateNameClasses.length; j++){\n                stateNameClass = stateNameClasses[j];\n            if(tempLayer.background){\n                keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n            }\n\n            if(tempLayer.hover && !isMobile()){\n                keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n\n                keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n            }\n        }\n\n            \n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n            options.shadowDOM.prepend(style);\n        } else {\n            document.getElementsByTagName('head')[0].appendChild(style);\n        }\n    }\n\n    function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n        for (var i = 0; i < prefixes.length; i++) {\n            r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n        return r;\n    }\n\n    //#endregion\n\n    //#region Connect to the project and add listeners\n    if (options) {\n        if (options.alanAudio) {\n            alanAudio = options.alanAudio;\n        }\n        if (options.key) {\n            tryReadSettingsFromLocalStorage();\n            switchState(getDefaultBtnState(DISCONNECTED));\n\n            window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host, null, { platform: (mode === 'demo' ? 'alanplayground' : null), appName: window.location.hostname });\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n\n            // console.info('BTN: tutorProject', options.key);\n        } else {\n            switchState(getDefaultBtnState());\n        }\n    }\n\n    function guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                       .toString(16)\n                       .substring(1);\n        }\n    \n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    }\n\n    function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n            uuidKey = 'alan-btn-uuid-' + getProjectId();\n            curUuid = localStorage.getItem(uuidKey);\n            if (curUuid) {\n                authData.uuid = curUuid;\n            } else {\n                authData.uuid = guid();\n                localStorage.setItem(uuidKey, authData.uuid);\n            }\n        } else {\n            authData.uuid = guid();\n        }\n\n        return authData;\n    }\n\n    function getProjectId() {\n        var key;\n        if (options.key) {\n            key = options.key;\n            return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n    }\n\n    function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n            clearTimeout(timeout);\n            timeout = setTimeout(function () {\n                func.apply(this, args);\n            }, delay);\n        };\n    }\n\n    function _activateAlanButton(resolve) {\n        playSoundNext();\n        if (options.onBeforeMicStart) {\n            options.onBeforeMicStart();\n        }\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n        if (options.onMicStarted) {\n            options.onMicStarted();\n        }\n    }\n\n    function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n            \n            if (btnDisabled) {\n                reject({err: BTN_IS_DISABLED_CODE});\n                return;\n            }\n\n            if (isPreviewMode()) {\n                reject({err: PREVIEW_MODE_CODE});\n                return;\n            }\n\n            function waitForConnectionForActivateCall(res) {\n                if (res === 'authorized') {\n                    window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n                    _activateAlanButton(resolve);\n                }\n            }\n\n            if (alanAudio) {\n                switch (state) {\n                    case DEFAULT:\n                        try {\n                            _activateAlanButton(resolve);\n                        } catch (e) {\n                            currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                            reject({ err: NO_VOICE_SUPPORT_IN_BROWSER_CODE });\n                        }\n                        break;\n                    case DISCONNECTED:\n                    case OFFLINE:\n                        window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                        break;\n                    case PERMISSION_DENIED:\n                        reject({ err: MIC_BLOCKED_CODE });\n                        break;\n\n                    case LISTENING:\n                    case SPEAKING:\n                    case INTERMEDIATE:\n                    case UNDERSTOOD:\n                        resolve();\n                        break;\n                    default:\n                }\n            } else {\n                reject({ err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE });\n            }\n        });\n\n        return activatePromise;\n    }\n\n    btn.addEventListener('click', function (e) {\n        if (afterMouseMove) return;\n        if (!dndBackAnimFinished) return;\n        if (currentErrMsg) {\n            alert(currentErrMsg);\n            return;\n        }\n        if (alanAudio) {\n            if (state === 'default') {\n                activateAlanButton();\n            } else {\n                alanAudio.stop();\n            }\n        } else {\n            throw new Error('No alan audio instance was provided');\n        }\n        //remove focus state from the btn after click\n        this.blur();\n    });\n\n    function showRecognisedText(e) {\n        var recognisedText = '';\n\n        if (hideS2TPanel || dndIsDown) {\n            return;\n        }\n\n        recognisedTextVisible = true;\n        if (!options.hideRecognizedText) {\n            if (recognisedTextHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n                recognisedTextHolder.classList.add('with-text');\n                recognisedTextHolder.classList.add('alanBtn-text-appearing');\n                recognisedTextHolder.classList.remove('alanBtn-text-disappearing');\n            }\n\n            if (e.text) {\n                recognisedText = e.text;\n                if (recognisedText.length > 200) {\n                    recognisedText = recognisedText.substr(0, 200);\n                }\n                recognisedTextContent.innerHTML = recognisedText;\n            }\n\n            if (recognisedText.length > 60 && recognisedText.length <= 80) {\n                recognisedTextHolder.classList.add('alanBtn-recognised-text-holder-long');\n            } else if (recognisedText.length > 80) {\n                recognisedTextHolder.classList.add('alanBtn-recognised-text-holder-super-long');\n            } else {\n                recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-long');\n                recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-super-long');\n            }\n           \n            replaceRecognisedText(recognisedText);\n        }\n    }\n\n    function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n            return;\n        }\n        if (!options.hideRecognizedText) {\n            recognisedTextContent.innerText = recognisedText;\n        }\n    }\n\n    function hideRecognisedText(delay, noAnimation) {\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n            if (noAnimation === true) {\n                recognisedTextHolder.classList.add('alanBtn-text-disappearing-immediately');\n                recognisedTextHolder.classList.remove('alanBtn-text-appearing');\n            } else {\n                recognisedTextHolder.classList.add('alanBtn-text-disappearing');\n                recognisedTextHolder.classList.remove('alanBtn-text-appearing');\n            }\n\n            recognisedTextVisible = false;\n\n            setTimeout(function () {\n                recognisedTextContent.innerHTML = '';\n                recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-long');\n                recognisedTextHolder.classList.remove('alanBtn-recognised-text-holder-super-long');\n                recognisedTextHolder.classList.remove('with-text');\n            }, delay || 810);\n        }\n    }\n\n    function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue, randomIndex;\n\n        while (0 !== currentIndex) {\n\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    }\n\n    function onOptionsReceived(data) {\n        if (data && data.web && data.web.hideS2TPanel === true) {\n            hideSpeach2TextPanel();\n        } else {\n            showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout !== undefined ) {\n            turnOffTimeout = data.web.timeout;\n            setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n            console.info('OPTIONS',data.web.btnOptions);\n            applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (data && data.web && data.web.logoUrl) {\n            applyLogoOptions(data.web.logoUrl);\n        }\n\n        if (isLocalStorageAvailable && data) {\n            localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n\n        if (data && data.web && data.web.hidden === true) {\n            hideAlanBtn();\n        } else {\n            showAlanBtn();\n        }\n    }\n\n    function onConnectStatusChange(res) {\n        console.info('BTN: connectStatus', res);\n\n        if (options.onConnectionStatus) {\n            options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n            switchState(getDefaultBtnState(DISCONNECTED));\n        } else if (res === 'authorized') {\n            if (previousState) {\n                switchState(previousState);\n            } else {\n                switchState(getDefaultBtnState());\n            }\n        }\n    }\n\n    function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n            window.tutorProject.on('text', onTextCbInMicBtn);\n            window.tutorProject.on('parsed', onParsedCbInMicBtn);\n            window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n        }\n    }\n\n    function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n\n        switchState(DEFAULT);\n\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n            window.tutorProject.off('text', onTextCbInMicBtn);\n            window.tutorProject.off('parsed', onParsedCbInMicBtn);\n            window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.off('connectStatus', onConnectStatusChange);\n            window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n            options.onMicStopped();\n        }\n    }\n\n    function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        alert(MIC_BLOCKED_MSG);\n        switchState(PERMISSION_DENIED);\n    }\n\n    function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n    }\n\n    function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        playSoundNext();\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n    }\n\n    function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n    }\n\n    function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n            options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n            switchState(UNDERSTOOD);\n        } else {\n            switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n    }\n\n    function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n            options.onCommand(e.data);\n        }\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n            soundOnAudio.currentTime = 0;\n            soundOnAudio.play().catch(function () {\n                console.log(\"No activation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n            soundOffAudio.currentTime = 0;\n            soundOffAudio.play().catch(function () {\n                console.log(\"No deactivation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    function playSoundNext() {\n        if (!soundNextAudioDoesNotExist) {\n            soundNextAudio.currentTime = 0;\n            soundNextAudio.play().catch(function () {\n                console.log(\"No deactivation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    window.switchState = switchState;\n\n    function switchState(newState) {\n\n        // console.info('BTN: state', newState);\n\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n            previousState = newState;\n        }\n\n        currentErrMsg = null;\n\n        if (newState === DEFAULT) {\n            btn.style.animation = '';\n            micIcon.style.animation = '';\n            micTriangleIcon.style.animation = '';\n\n            btnBgDefault.classList.remove('super-hidden');\n            btnBgDefault.style.opacity = onOpacity;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n            changeBgColors(DEFAULT);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 0;\n\n            hideLayers([\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === LISTENING) {\n            btn.style.animation = pulsatingAnimation;\n            micIcon.style.animation = pulsatingMicAnimation;\n            micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n\n            btnBgListening.classList.remove('super-hidden');\n            btnBgListening.style.opacity = onOpacity;\n\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n\n            changeBgColors(LISTENING);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === SPEAKING) {\n            hideRecognisedText();\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgSpeaking.classList.remove('super-hidden');\n            btnBgSpeaking.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(SPEAKING);\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === INTERMEDIATE) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgIntermediate.classList.remove('super-hidden');\n            btnBgIntermediate.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(INTERMEDIATE);\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgUnderstood,\n\n            ]);\n        } else if (newState === UNDERSTOOD) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgUnderstood.classList.remove('super-hidden');\n            btnBgUnderstood.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(UNDERSTOOD);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n\n            ]);\n        }\n\n        if (newState === SPEAKING) {\n            micTriangleIcon.style.opacity = 0;\n            micCircleIcon.style.opacity = 1;\n            micTriangleIcon.style.backgroundSize = '0% 0%';\n            micCircleIcon.style.backgroundSize = '100% 100%';\n        } else  {\n            micCircleIcon.style.opacity = 0;\n            micCircleIcon.style.backgroundSize = '0% 0%';\n            micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n            micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n            micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [\n            logoState1,\n            logoState2,\n            logoState3,\n            logoState4,\n            logoState5,\n            logoState6,\n            logoState7,\n            logoState8,\n            logoState9,\n            logoState10\n        ];\n\n        if(!customBtnLogoUrl) {\n            if (newState === LISTENING ||\n                newState === INTERMEDIATE ||\n                newState === SPEAKING ||\n                newState === UNDERSTOOD) {\n    \n                if (logoState1.style.animationName === '') {\n                    for (i = 0; i < tempLogoParts.length; i++) {\n                        if (i === 0) {\n                            tempLogoParts[i].style.opacity = 1;\n                        } else {\n                            tempLogoParts[i].style.opacity = 0;\n                        }\n                        tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n                    }\n                }\n                defaultStateBtnIcon.style.opacity = 0;\n            } else {\n                defaultStateBtnIcon.style.opacity = 1;\n                for (i = 0; i < tempLogoParts.length; i++) {\n                    tempLogoParts[i].style.opacity = 0;\n                    tempLogoParts[i].style.animationName = '';\n                }\n            }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED || newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n            if (newState === LOW_VOLUME) {\n                rootEl.classList.add(\"alan-btn-low-volume\");\n                currentErrMsg = LOW_VOLUME_MSG;\n            } else if (newState === PERMISSION_DENIED) {\n                rootEl.classList.add(\"alan-btn-permission-denied\");\n                currentErrMsg = MIC_BLOCKED_MSG;\n            } else if (newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n                rootEl.classList.add(\"alan-btn-no-voice-support\");\n                if (newState === NO_VOICE_SUPPORT) {\n                    currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                } else if (newState === NOT_SECURE_ORIGIN) {\n                    currentErrMsg = NOT_SECURE_ORIGIN_MSG;\n                }\n            }\n\n            if (newState === NO_VOICE_SUPPORT) {\n                noVoiceSupportMicIcon.style.opacity = 1;\n                lowVolumeMicIcon.style.opacity = 0;\n            } else {\n                noVoiceSupportMicIcon.style.opacity = 0;\n                lowVolumeMicIcon.style.opacity = 1;\n            }\n            micIcon.style.opacity = 0;\n            micTriangleIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE ) {\n            if (newState === DISCONNECTED) {\n                rootEl.classList.add(\"alan-btn-disconnected\");\n            }\n            if (newState === OFFLINE) {\n                rootEl.classList.add(\"alan-btn-offline\");\n                currentErrMsg = OFFLINE_MSG;\n            }\n            micTriangleIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 0;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n\n            if (newState === DISCONNECTED) {\n                micIcon.style.opacity = 0;\n                disconnectedMicLoaderIcon.style.opacity = 1;\n            } else {\n                micIcon.style.opacity = 0;\n                disconnectedMicLoaderIcon.style.opacity = 0;\n                offlineIcon.style.opacity = 1;\n            }\n        } else {\n            lowVolumeMicIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            rootEl.classList.remove(\"alan-btn-low-volume\");\n            rootEl.classList.remove(\"alan-btn-permission-denied\");\n            rootEl.classList.remove(\"alan-btn-disconnected\");\n            rootEl.classList.remove(\"alan-btn-offline\");\n            rootEl.classList.remove(\"alan-btn-no-voice-support\");\n        }\n\n        state = newState;\n    }\n\n    //#endregion\n\n    //#region Helpers\n    function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n    }\n\n    function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n            layers[i].style.opacity = offOpacity;\n            layers[i].classList.add('super-hidden');\n        }\n    }\n\n    function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = [\n            'alanBtn-oval-bg-' + DEFAULT,\n            'alanBtn-oval-bg-' + LISTENING,\n            'alanBtn-oval-bg-' + INTERMEDIATE,\n            'alanBtn-oval-bg-' + UNDERSTOOD,\n            'alanBtn-oval-bg-' + SPEAKING,\n        ];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n            for (var j = 0; j < tempBgLayerClasses.length; j++) {\n                tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n            }\n            tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n    }\n\n    function getStorageKey() {\n        var key = '';\n        if (options && options.key) {\n            key = options.key;\n        }\n        return 'alan-btn-options-' + key;\n    }\n\n    function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            return true;\n        }\n        return false;\n    }\n\n    function isOriginSecure() {\n        var isSecure = false;\n        var protocol = window.location.protocol;\n        var hostname = window.location.hostname;\n\n        if (protocol === 'https:') {\n            isSecure = true;\n        }\n\n        if (protocol === 'file:') {\n            isSecure = true;\n        }\n\n        if (protocol === 'http:' && (hostname.indexOf('localhost') > -1 || hostname.indexOf('127.0.0.1') > -1)) {\n            isSecure = true;\n        }\n\n        return isSecure;\n    }\n\n    function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext;\n\n        fakeGetUserMedia = (navigator.getUserMedia ||\n            navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia ||\n            navigator.msGetUserMedia);\n\n        fakeContext = window.AudioContext ||\n            window.webkitAudioContext ||\n            window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n            available = true;\n        }\n\n        return available;\n    }\n\n    function getDebugInfo() {\n        var info = '\\nDebug Info:\\n';\n\n        info += 'getUserMedia: ';\n        info += navigator.getUserMedia ? 'true' : 'false';\n        info += ' ';\n\n        info += '(mediaDevices.getUserMedia: ';\n        info += (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) ? 'true' : 'false';\n        info += ', ';\n\n        info += 'webkit: ';\n        info += navigator.webkitGetUserMedia ? 'true' : 'false';\n        info += ', ';\n\n        info += 'moz: ';\n        info += navigator.mozGetUserMedia ? 'true' : 'false';\n        info += ', ';\n\n        info += 'ms: ';\n        info += navigator.msGetUserMedia ? 'true' : 'false';\n        info += '), ';\n\n        info += 'AudioContext: ';\n        info += window.AudioContext ? 'true' : 'false';\n        info += ' ';\n\n        info += '(webkit: ';\n        info += window.webkitAudioContext ? 'true' : 'false';\n        info += ', ';\n\n        info += 'moz: ';\n        info += window.mozAudioContext ? 'true' : 'false';\n        info += '), ';\n\n        info += 'userAgent - ';\n        info += navigator.userAgent;\n\n        return info;\n    }\n\n    //#endregion\n\n    //#region Append layers to the rootEl\n    function showAlanBtn() {\n        rootEl.innerHTML = '';\n\n        recognisedTextHolder.appendChild(recognisedTextContent);\n\n        rootEl.appendChild(recognisedTextHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n    }\n\n    function hideAlanBtn() {\n        if (!isTutorMode()) {\n            alanAudio.stop();\n            rootEl.innerHTML = '';\n            btnDisabled = true;\n        }\n    }\n\n    function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n    }\n\n    function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n    }\n\n    function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n            createAlanStyleSheet(btnOptions);\n        }\n    }\n\n    function applyLogoOptions(logoUrl) {\n        if (logoUrl) {\n            customBtnLogoUrl = logoUrl;\n            defaultStateBtnIcon.src = logoUrl;\n            micIcon.src = logoUrl;\n            micTriangleIcon.src = logoUrl;\n            micTriangleIcon.classList.remove('triangleMicIconBg');\n            // logoState1.src=logoUrl;\n            // logoState2.src=logoUrl;\n            // logoState3.src=logoUrl;\n            // logoState4.src=logoUrl;\n            // logoState5.src=logoUrl;\n            // logoState6.src=logoUrl;\n            // logoState7.src=logoUrl;\n            // logoState8.src=logoUrl;\n            // logoState9.src=logoUrl;\n            // logoState10.src=logoUrl;\n        }\n    }\n\n    rootEl.classList.add(\"alanBtn-root\");\n    rootEl.classList.add(\"alan-\" + getProjectId());\n\n    var alanBtnSavedOptions = null;\n\n    if (isTutorMode()) {\n        showAlanBtn();\n    } else {\n        if (isLocalStorageAvailable) {\n            try {\n                tryReadSettingsFromLocalStorage();\n            } catch (e) {\n                showAlanBtn();\n            }\n        } else {\n            showAlanBtn();\n        }\n    }\n\n    function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n            try {\n                alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n                if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n\n                    if (alanBtnSavedOptions.web.btnOptions) {\n                        applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n                    }\n\n                    if (alanBtnSavedOptions.web.hidden !== true) {\n                        showAlanBtn();\n                    } else {\n                        hideAlanBtn();\n                    }\n\n                }\n            } catch (e) {\n\n            }\n        }\n    }\n\n    if (!options.rootEl) {\n        body.appendChild(rootEl);\n    }\n\n    //#endregion\n\n    //#region Drag-n-drop btn logic\n    var dndInitialMousePositions = [0, 0];\n    var dndIsDown = false;\n    var afterMouseMove = false;\n    var dndSideBtnPos = null;\n    var dndTopPos;\n    var dndBottomPos;\n    var dndFinalLeftPos;\n    var dndFinalRightPos;\n    var dndAnimDelay = 300;\n    var dndAnimTransition = dndAnimDelay + 'ms';\n    var dndBackAnimFinished = true;\n\n    if (!pinned) {\n        rootEl.addEventListener('mousedown', onMouseDown, true);\n        rootEl.addEventListener('touchstart', onMouseDown, { passive: false });\n\n        document.addEventListener('mouseup', onMouseUp, true);\n        document.addEventListener('touchend', onMouseUp, { passive: false });\n\n        document.addEventListener('mousemove', onMouseMove, true);\n        document.addEventListener('touchmove', onMouseMove, { passive: false });\n    }\n\n    function onMouseDown(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n        if (!dndBackAnimFinished || (e.buttons !== undefined && e.buttons !== 1)) return;\n        dndIsDown = true;\n        \n        rootEl.style.transition = '0ms';\n        if (!dndSideBtnPos) {\n            dndSideBtnPos = isLeftAligned ? rootEl.offsetLeft : window.innerWidth - rootEl.offsetLeft;\n        }\n\n        dndInitialMousePositions = [\n            posInfo.clientX,\n            posInfo.clientY\n        ];\n        if (isTopAligned) {\n            dndTopPos = +rootEl.style.top.replace('px', '');\n        } else {\n            dndBottomPos = +rootEl.style.bottom.replace('px', '');\n        }\n    }\n\n    function onMouseUp(e) {\n        var curPos;\n        var posInfo;\n        if (dndIsDown) {\n            posInfo = e.touches ? e.touches[0] : e;\n            dndIsDown = false;\n            rootEl.style.transition = dndAnimTransition;\n            if (isLeftAligned) {\n                curPos = +rootEl.style.left.replace('px', '');\n            } else {\n                curPos = +rootEl.style.right.replace('px', '');\n            }\n            if (curPos <= window.innerWidth / 2) {\n                if (posInfo && Math.abs(dndInitialMousePositions[0] - posInfo.clientX) < 15 && Math.abs(dndInitialMousePositions[1] - posInfo.clientY) < 15) {\n                    afterMouseMove = false;\n                }\n\n                moveBtnToTheSameSide();\n            } else {\n                moveBtnToTheOppositeSide();\n            }\n\n            setTimeout(function () {\n                afterMouseMove = false;\n            }, 300);\n        }\n    }\n\n    function onMouseMove(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n\n        if (dndIsDown) {\n            hideRecognisedText(0, true);\n            e.preventDefault();\n            afterMouseMove = true;\n\n            if (isLeftAligned) {\n                dndFinalLeftPos = (dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0]);\n                dndFinalRightPos = window.innerWidth - dndFinalLeftPos;\n                rootEl.style.left = correctXPos(dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0]) + 'px';\n            } else {\n                dndFinalRightPos = (dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0]);\n                dndFinalLeftPos = window.innerWidth - dndFinalRightPos;\n                rootEl.style.right = correctXPos(dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0]) + 'px';\n            }\n\n            if (isTopAligned) {\n                rootEl.style.top = correctYPos(dndTopPos + posInfo.clientY - dndInitialMousePositions[1]) + 'px';\n            } else {\n                rootEl.style.bottom = correctYPos(dndBottomPos - posInfo.clientY + dndInitialMousePositions[1]) + 'px';\n            }\n        }\n    }\n\n    function correctYPos(yPos) {\n        var defDelta = 10;\n        if (yPos < 0) {\n            return defDelta;\n        } else if (yPos > window.innerHeight - btnSize - defDelta) {\n            return window.innerHeight - btnSize - defDelta;\n        }\n        return yPos;\n    }\n\n    function correctXPos(xPos) {\n        var defDelta = 10;\n        if (xPos < 0) {\n            return defDelta;\n        } else if (xPos > window.innerWidth - btnSize - defDelta) {\n            return window.innerWidth - btnSize - defDelta;\n        }\n        return xPos;\n    }\n\n    function changeBtnSide(side) {\n        if (side === 'to-left') {\n            rootEl.style.right = '';\n            isLeftAligned = true;\n            isRightAligned = false;\n        } else {\n            rootEl.style.left = '';\n            isLeftAligned = false;\n            isRightAligned = true;\n        }\n        setStylesBasedOnSide();\n    }\n\n    function moveBtnToTheSameSide() {\n        rootEl.style.transition = dndAnimTransition;\n        rootEl.style[isLeftAligned ? 'left' : 'right'] = dndSideBtnPos + 'px';\n        setTextPanelPosition(recognisedTextHolder);\n    }\n\n    function moveBtnToTheOppositeSide() {\n        var finalBtnPos = (window.innerWidth - dndSideBtnPos - btnSize) + 'px';\n        dndBackAnimFinished = false;\n        if (isLeftAligned) {\n            rootEl.style.left = finalBtnPos;\n            setTimeout(function () {\n                isLeftAligned = false;\n                rootEl.style.right = dndSideBtnPos + 'px';\n                setTextPanelPosition(recognisedTextHolder);\n                changeBtnSide('to-right');\n                dndBackAnimFinished = true;\n            }, dndAnimDelay);\n        } else {\n            rootEl.style.right = finalBtnPos;\n            setTimeout(function () {\n                rootEl.style.left = dndSideBtnPos + 'px';\n                isLeftAligned = true;\n                setTextPanelPosition(recognisedTextHolder);\n                changeBtnSide('to-left');\n                dndBackAnimFinished = true;\n            }, dndAnimDelay);\n        }\n    }\n\n    //#endregion\n\n    return btnInstance;\n}\nns.alanBtn = alanBtn;\n\n})(window);\nreturn alanBtn;\n}));\n"]},"metadata":{},"sourceType":"script"}